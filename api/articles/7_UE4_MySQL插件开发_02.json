{"title":"UE4 MySQL插件开发","uid":"ab5a123ef13f06a2127802a636203336","slug":"7_UE4_MySQL插件开发_02","date":"2022-10-06T07:28:25.948Z","updated":"2023-01-10T01:10:19.445Z","comments":true,"path":"api/articles/7_UE4_MySQL插件开发_02.json","keywords":null,"cover":"https://cdn.jsdelivr.net/gh/FHangH/FHangBlogCDN_03@master/Aurora_ (18).webp","content":"<h1 id=\"UE4-MySQL插件开发\"><a href=\"#UE4-MySQL插件开发\" class=\"headerlink\" title=\"UE4 MySQL插件开发\"></a>UE4 MySQL插件开发</h1><p>[toc]</p>\n<h3 id=\"1-项目简介\"><a href=\"#1-项目简介\" class=\"headerlink\" title=\"1. 项目简介\"></a>1. 项目简介</h3><ul>\n<li>个人<code>UrealEngine MySQL Plugin</code>开发流程</li>\n<li>方便<code>UnrealEngine</code>项目<code>链接</code>和<code>操作</code>MySQL数据库</li>\n</ul>\n<h3 id=\"2-项目环境\"><a href=\"#2-项目环境\" class=\"headerlink\" title=\"2. 项目环境\"></a>2. 项目环境</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">IDE -&gt; JetBrains Rider 2022.1 EAP7 内部版本号 221.4906.10</span><br><span class=\"line\">UnrealEngine -&gt; 4.27.2</span><br><span class=\"line\">Compiler Environment -&gt; Visual Studio 2022 提供编译组件</span><br><span class=\"line\">MySQL -&gt; 8.0.28 MySQL Community Server - GPL</span><br></pre></td></tr></table></figure>\n\n\n\n\n\n<h3 id=\"3-项目资源\"><a href=\"#3-项目资源\" class=\"headerlink\" title=\"3. 项目资源\"></a>3. 项目资源</h3><h4 id=\"3-1-资源文件结构\"><a href=\"#3-1-资源文件结构\" class=\"headerlink\" title=\"3.1 资源文件结构\"></a>3.1 资源文件结构</h4><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ConnectorLibs</span><br><span class=\"line\">\t- ConnectorLibs</span><br><span class=\"line\">\t\t+ include</span><br><span class=\"line\">\t\t+ lib</span><br><span class=\"line\">\t- ConnectorLibs.Build.cs</span><br></pre></td></tr></table></figure>\n\n\n\n\n\n<h4 id=\"3-2-资源链接\"><a href=\"#3-2-资源链接\" class=\"headerlink\" title=\"3.2 资源链接\"></a>3.2 资源链接</h4><p>「ConnectorLibs」<a href=\"https://www.aliyundrive.com/s/wTrvzpVdfxU\">https://www.aliyundrive.com/s/wTrvzpVdfxU</a> 提取码: 0be0</p>\n<h3 id=\"4-项目创建\"><a href=\"#4-项目创建\" class=\"headerlink\" title=\"4. 项目创建\"></a>4. 项目创建</h3><h4 id=\"4-1-创建UE4项目\"><a href=\"#4-1-创建UE4项目\" class=\"headerlink\" title=\"4.1 创建UE4项目\"></a>4.1 创建UE4项目</h4><ol>\n<li>默认选择<code>游戏项目</code></li>\n<li>默认选择<code>空项目</code></li>\n<li>创建<code>C++项目</code>，包含<code>初学者内容包</code></li>\n<li>选择项目的创建目录</li>\n<li>创建项目名<code>FH_TestMySQL</code></li>\n</ol>\n<h4 id=\"4-2-创建新插件\"><a href=\"#4-2-创建新插件\" class=\"headerlink\" title=\"4.2 创建新插件\"></a>4.2 创建新插件</h4><ol>\n<li>找到<code>Edit</code>或<code>Settings</code></li>\n<li>选择<code>plugins</code>进入插件界面</li>\n<li>选择<code>New Plugin</code></li>\n<li>选择<code>Blank</code></li>\n<li>设置插件名称<code>FH_MySQL</code></li>\n<li><code>Descriptor Data</code>随意填写</li>\n<li><code>Create Plugin</code></li>\n</ol>\n<h4 id=\"4-3-创建MySQL-C-类\"><a href=\"#4-3-创建MySQL-C-类\" class=\"headerlink\" title=\"4.3 创建MySQL C++类\"></a>4.3 创建MySQL C++类</h4><h5 id=\"4-3-1-FH-ConnectionObject\"><a href=\"#4-3-1-FH-ConnectionObject\" class=\"headerlink\" title=\"4.3.1 FH_ConnectionObject\"></a>4.3.1 FH_ConnectionObject</h5><ol>\n<li>创建<code>Object</code>C++类，类名<code>FH_ConnectionObject</code></li>\n<li>选择添加到插件目录<code>FH_MySQL(Runtime)</code>，默认<code>public .h，private .cpp</code></li>\n<li><code>Create Class</code></li>\n<li>会弹出一个<code>Message</code>窗口，内容大致为<code>创建成功，但需要重新编译</code>，选择<code>No</code></li>\n</ol>\n<h5 id=\"4-3-2-BPFuncLib-FHSQL\"><a href=\"#4-3-2-BPFuncLib-FHSQL\" class=\"headerlink\" title=\"4.3.2 BPFuncLib_FHSQL\"></a>4.3.2 BPFuncLib_FHSQL</h5><ol>\n<li>创建<code>Blueprint Function Library</code>C++类，类名<code>BPFuncLib_FHSQL</code></li>\n<li>剩下步骤同上</li>\n</ol>\n<h3 id=\"5-项目配置\"><a href=\"#5-项目配置\" class=\"headerlink\" title=\"5. 项目配置\"></a>5. 项目配置</h3><h4 id=\"5-1-引入MySQL环境库\"><a href=\"#5-1-引入MySQL环境库\" class=\"headerlink\" title=\"5.1 引入MySQL环境库\"></a>5.1 引入MySQL环境库</h4><h5 id=\"5-1-1-导入环境库\"><a href=\"#5-1-1-导入环境库\" class=\"headerlink\" title=\"5.1.1 导入环境库\"></a>5.1.1 导入环境库</h5><ol>\n<li>准备好<code>ConnectorLibs</code></li>\n<li>来到<code>FH_TestMySQL\\Plugins\\FH_MySQL\\Source</code>目录下</li>\n<li>创建目录<code>ThirdParty</code></li>\n<li>将<code>ConnectorLibs</code>放入<code>ThirdParty</code>内</li>\n</ol>\n<h5 id=\"5-1-2-配置项目属性\"><a href=\"#5-1-2-配置项目属性\" class=\"headerlink\" title=\"5.1.2 配置项目属性\"></a>5.1.2 配置项目属性</h5><ol>\n<li><code>Rider</code>打开创建好的UE4 C++项目</li>\n<li>在资源栏内找到项目名<code>FH_TestMySQL</code>，在<code>Games</code>目录下</li>\n<li>右键，选择<code>Properties</code></li>\n<li>在<code>Configurations</code>内选择<code>Development_Editor | x64</code></li>\n<li>选择<code>VC++目录</code></li>\n<li>在<code>包含目录(include)</code>中填入绝对路径<code>项目文件路径\\FH_TestMySQL\\Plugins\\FH_MySQL\\Source\\ThirdParty\\ConnectorLibs\\include</code></li>\n<li>在<code>库目录(lib)</code>中填入绝对路径<code>项目文件路径\\FH_TestMySQL\\Plugins\\FH_MySQL\\Source\\ThirdParty\\ConnectorLibs\\lib</code></li>\n<li><code>OK</code></li>\n</ol>\n<h5 id=\"5-1-3-配置项目文件\"><a href=\"#5-1-3-配置项目文件\" class=\"headerlink\" title=\"5.1.3 配置项目文件\"></a>5.1.3 配置项目文件</h5><ol>\n<li><p>修改<code>FH_MySQL.uplugin</code>，文件位置<code>项目文件路径\\FH_TestMySQL\\Plugins\\FH_MySQL</code>，只需要添加<code>&quot;WhitelistPlatforms&quot;: [&quot;Win64&quot;]</code></p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;FileVersion&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">3</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;Version&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">1</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;VersionName&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;1.0&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;FriendlyName&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;FH_MySQL&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;Description&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;Using UE4 Connecting MySQL Plugin&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;Category&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;FhPlugin&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;CreatedBy&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;FangH&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;CreatedByURL&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;https://fhangh.gitee.io/&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;DocsURL&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;MarketplaceURL&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;SupportURL&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;CanContainContent&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;IsBetaVersion&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">true</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;IsExperimentalVersion&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">false</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;Installed&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">false</span></span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t<span class=\"attr\">&quot;Modules&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span></span><br><span class=\"line\">\t\t<span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">&quot;Name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;FH_MySQL&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">&quot;Type&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;Runtime&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">&quot;LoadingPhase&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;Default&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">&quot;WhitelistPlatforms&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span><span class=\"string\">&quot;Win64&quot;</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">\t\t<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">\t<span class=\"punctuation\">]</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>修改<code>FH_MySQL.Build.cs</code>，文件位置<code>项目文件路径\\FH_TestMySQL\\Plugins\\FH_MySQL\\Source\\FH_MySQL</code>，修改如下内容</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">PublicDependencyModuleNames.AddRange(</span><br><span class=\"line\">\t<span class=\"keyword\">new</span> <span class=\"built_in\">string</span>[]</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;Core&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;ConnectorLibs&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"comment\">// ... add other public dependencies that you statically link with here ...</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure></li>\n</ol>\n<h3 id=\"6-MySQL-C-文件\"><a href=\"#6-MySQL-C-文件\" class=\"headerlink\" title=\"6. MySQL C++文件\"></a>6. MySQL C++文件</h3><h4 id=\"6-1-MySQL连接对象\"><a href=\"#6-1-MySQL连接对象\" class=\"headerlink\" title=\"6.1 MySQL连接对象\"></a>6.1 MySQL连接对象</h4><ul>\n<li><p><code>FH_ConnectionObject.h</code></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">pragma</span> once</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&quot;CoreMinimal.h&quot;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&quot;UObject/NoExportTypes.h&quot;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&quot;mysql.h&quot;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&quot;FH_ConnectionObject.generated.h&quot;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">UCLASS</span>(BlueprintType)</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">FH_MYSQL_API</span> UFH_ConnectionObject : <span class=\"keyword\">public</span> UObject</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">GENERATED_BODY</span>()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">\t<span class=\"built_in\">UFH_ConnectionObject</span>();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">\tMYSQL *Fh_ConnMysql;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>FH_ConnectionObject.cpp</code></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&quot;FH_ConnectionObject.h&quot;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\">UFH_ConnectionObject::<span class=\"built_in\">UFH_ConnectionObject</span>()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\tFh_ConnMysql = <span class=\"literal\">nullptr</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h4 id=\"6-2-MySQL函数工具库\"><a href=\"#6-2-MySQL函数工具库\" class=\"headerlink\" title=\"6.2 MySQL函数工具库\"></a>6.2 MySQL函数工具库</h4><h5 id=\"6-2-1-Version1-0\"><a href=\"#6-2-1-Version1-0\" class=\"headerlink\" title=\"6.2.1 Version1.0\"></a>6.2.1 Version1.0</h5><ul>\n<li><p><code>BPFuncLib_FHSQL.h</code></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">pragma</span> once</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&quot;CoreMinimal.h&quot;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&quot;Kismet/BlueprintFunctionLibrary.h&quot;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&quot;FH_ConnectionObject.h&quot;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&quot;BPFuncLib_FHSQL.generated.h&quot;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">USTRUCT</span>(BlueprintType)</span><br><span class=\"line\"><span class=\"keyword\">struct</span> <span class=\"title class_\">FQueryResultRow</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">GENERATED_BODY</span>()</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"built_in\">UPROPERTY</span>(BlueprintReadWrite, Category=<span class=\"string\">&quot;MySQL|Result Row Value&quot;</span>)</span><br><span class=\"line\">\tTArray&lt;FString&gt; RowValue;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">USTRUCT</span>(BlueprintType)</span><br><span class=\"line\"><span class=\"keyword\">struct</span> <span class=\"title class_\">FQueryResultRows</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">GENERATED_BODY</span>()</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"built_in\">UPROPERTY</span>(BlueprintReadWrite, Category=<span class=\"string\">&quot;MySQL|Result Rows Value&quot;</span>)</span><br><span class=\"line\">\tTArray&lt;FQueryResultRow&gt; RowsValue;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">UCLASS</span>(BlueprintType)</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">FH_MYSQL_API</span> UBPFuncLib_FHSQL : <span class=\"keyword\">public</span> UBlueprintFunctionLibrary</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">GENERATED_BODY</span>()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">\t<span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">\t * Connection == MySQL Object</span></span><br><span class=\"line\"><span class=\"comment\">\t * @return *UFH_ConnectionObject == MySQL Connector</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span></span><br><span class=\"line\">\t<span class=\"built_in\">UFUNCTION</span>(BlueprintCallable, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">static</span> UFH_ConnectionObject *<span class=\"title\">ConnectToMySQL</span><span class=\"params\">(FString Host, FString UserName, FString PassWord, FString DBName,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">\t\t\t\t\t\t\t\t\t\t\t\tint32 Port, FString &amp;ConnectMessage)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">\t * ConnectionObject == MySQL Object</span></span><br><span class=\"line\"><span class=\"comment\">\t * @return bool == ConnectionState</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span></span><br><span class=\"line\">\t<span class=\"built_in\">UFUNCTION</span>(BlueprintCallable, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">static</span> <span class=\"type\">bool</span> <span class=\"title\">GetConnectionState</span><span class=\"params\">(UFH_ConnectionObject *ConnectionObject)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">\t * ConnectionObject == MySQL Object</span></span><br><span class=\"line\"><span class=\"comment\">\t * @return bool == ConnectionState</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span></span><br><span class=\"line\">\t<span class=\"built_in\">UFUNCTION</span>(BlueprintCallable, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">static</span> <span class=\"type\">bool</span> <span class=\"title\">CloseConnection</span><span class=\"params\">(UFH_ConnectionObject *ConnectionObject)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">\t * ConnectionObject == MySQL Object</span></span><br><span class=\"line\"><span class=\"comment\">\t * @return bool == Insert, Update, Delete Data Is Succeed Or Failed</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span></span><br><span class=\"line\">\t<span class=\"built_in\">UFUNCTION</span>(BlueprintCallable, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">static</span> <span class=\"type\">bool</span> <span class=\"title\">ActionOnTableData</span><span class=\"params\">(UFH_ConnectionObject *ConnectionObject, FString SqlQuery)</span></span>;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">\t * TableName = DataBase TableName</span></span><br><span class=\"line\"><span class=\"comment\">\t * InsertValues = MySQL Insert Values to Table</span></span><br><span class=\"line\"><span class=\"comment\">\t * @return FString = MySQL Insert Query -&gt; Insert</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span></span><br><span class=\"line\">\t<span class=\"built_in\">UFUNCTION</span>(BlueprintPure, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">static</span> FString <span class=\"title\">InsertFormatSqlQuery</span><span class=\"params\">(FString TableName, FString InsertValues)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">\t * TableName = DataBase TableName</span></span><br><span class=\"line\"><span class=\"comment\">\t * RowName = Need Update Row</span></span><br><span class=\"line\"><span class=\"comment\">\t * @return FString = MySQL Update Query -&gt; Update</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span>\t</span><br><span class=\"line\">\t<span class=\"built_in\">UFUNCTION</span>(BlueprintPure, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">static</span> FString <span class=\"title\">UpdateAllFormatSqlQuery</span><span class=\"params\">(FString TableName, FString RowName, FString UpdateValue)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">\t * TableName = DataBase TableName</span></span><br><span class=\"line\"><span class=\"comment\">\t * RowName = Need Update Row</span></span><br><span class=\"line\"><span class=\"comment\">\t * WhereName = Update Where</span></span><br><span class=\"line\"><span class=\"comment\">\t * WhereSymbol = Operator Or Symbol</span></span><br><span class=\"line\"><span class=\"comment\">\t * WhereValue = Condition Name</span></span><br><span class=\"line\"><span class=\"comment\">\t * UpdateValue = Need Update Date Value</span></span><br><span class=\"line\"><span class=\"comment\">\t * @return FString = MySQL Update Query -&gt; Update</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span>\t</span><br><span class=\"line\">\t<span class=\"built_in\">UFUNCTION</span>(BlueprintPure, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">static</span> FString <span class=\"title\">UpdateByWhereFormatSqlQuery</span><span class=\"params\">(FString TableName, FString RowName, FString WhereName, FString WhereSymbol, FString WhereValue, FString UpdateValue)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">\t * TableName = DataBase TableName</span></span><br><span class=\"line\"><span class=\"comment\">\t * @return FString = MySQL Delete Query -&gt; Delete</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span></span><br><span class=\"line\">\t<span class=\"built_in\">UFUNCTION</span>(BlueprintPure, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">static</span> FString <span class=\"title\">DeleteAllFormatSqlQuery</span><span class=\"params\">(FString TableName)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">\t * TableName = DataBase TableName</span></span><br><span class=\"line\"><span class=\"comment\">\t * WhereName = Update Where</span></span><br><span class=\"line\"><span class=\"comment\">\t * WhereSymbol = Operator Or Symbol</span></span><br><span class=\"line\"><span class=\"comment\">\t * WhereValue = Condition Name</span></span><br><span class=\"line\"><span class=\"comment\">\t * @return FString = MySQL Delete Query -&gt; Delete</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span></span><br><span class=\"line\">\t<span class=\"built_in\">UFUNCTION</span>(BlueprintPure, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">static</span> FString <span class=\"title\">DeleteByWhereFormatSqlQuery</span><span class=\"params\">(FString TableName, FString WhereName, FString WhereSymbol, FString WhereValue)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">\t * ConnectionObject == MySQL Object</span></span><br><span class=\"line\"><span class=\"comment\">\t * @return bool == Select Data Is Succeed Or Failed</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span>\t</span><br><span class=\"line\">\t<span class=\"built_in\">UFUNCTION</span>(BlueprintCallable, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">static</span> <span class=\"type\">bool</span> <span class=\"title\">SelectOnTableData</span><span class=\"params\">(UFH_ConnectionObject *ConnectionObject, FString SqlQuery, FQueryResultRows &amp;ResultRows)</span></span>;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">\t * TableName = DataBase TableName</span></span><br><span class=\"line\"><span class=\"comment\">\t * @return FString = MySQL Select Query -&gt; Select</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span></span><br><span class=\"line\">\t<span class=\"built_in\">UFUNCTION</span>(BlueprintPure, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">static</span> FString <span class=\"title\">SelectAllFormatSqlQuery</span><span class=\"params\">(FString TableName)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">\t * TableName = DataBase TableName</span></span><br><span class=\"line\"><span class=\"comment\">\t * @return FString = MySQL Select Query -&gt; Select</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span>\t</span><br><span class=\"line\">\t<span class=\"built_in\">UFUNCTION</span>(BlueprintPure, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">static</span> FString <span class=\"title\">SelectByColumnsFormatSqlQuery</span><span class=\"params\">(FString TableName, FString Columns)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">\t * TableName = DataBase TableName</span></span><br><span class=\"line\"><span class=\"comment\">\t * @return TArray&lt;FString&gt; = Get All Rows -&gt; In All Columns Values</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span>\t\t</span><br><span class=\"line\">\t<span class=\"built_in\">UFUNCTION</span>(BlueprintPure, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">static</span> FQueryResultRow <span class=\"title\">GetRowByIndex</span><span class=\"params\">(<span class=\"type\">const</span> FQueryResultRows &amp;ResultRows, int32 RowIndex)</span></span>;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>BPFuncLib_FHSQL.cpp</code></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&quot;BPFuncLib_FHSQL.h&quot;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&quot;mysql.h&quot;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;string&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\">UFH_ConnectionObject* <span class=\"title\">UBPFuncLib_FHSQL::ConnectToMySQL</span><span class=\"params\">(FString Host, FString UserName, FString PassWord, FString DBName,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">\tint32 Port, FString &amp;ConnectMessage)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">const</span> std::string <span class=\"title\">m_Host</span><span class=\"params\">(TCHAR_TO_UTF8(*Host))</span></span>;</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">const</span> std::string <span class=\"title\">m_UserName</span><span class=\"params\">(TCHAR_TO_UTF8(*UserName))</span></span>;</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">const</span> std::string <span class=\"title\">m_PassWord</span><span class=\"params\">(TCHAR_TO_UTF8(*PassWord))</span></span>;</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">const</span> std::string <span class=\"title\">m_DBName</span><span class=\"params\">(TCHAR_TO_UTF8(*DBName))</span></span>;</span><br><span class=\"line\">\t<span class=\"type\">const</span> uint32 m_Port = Port; </span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// Create MySQL Connection Object</span></span><br><span class=\"line\">\tUFH_ConnectionObject *ConnectionObject = <span class=\"built_in\">NewObject</span>&lt;UFH_ConnectionObject&gt;();</span><br><span class=\"line\">\t<span class=\"comment\">// Init DataBase Connection Object</span></span><br><span class=\"line\">\tConnectionObject-&gt;Fh_ConnMysql = <span class=\"built_in\">mysql_init</span>(<span class=\"literal\">nullptr</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// Judge Connection Status And Return ConnectMessage</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (<span class=\"built_in\">mysql_real_connect</span>(ConnectionObject-&gt;Fh_ConnMysql, m_Host.<span class=\"built_in\">c_str</span>(), m_UserName.<span class=\"built_in\">c_str</span>(), m_PassWord.<span class=\"built_in\">c_str</span>(),</span><br><span class=\"line\">\t                       m_DBName.<span class=\"built_in\">c_str</span>(), m_Port, <span class=\"literal\">nullptr</span>, <span class=\"number\">0</span>))</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tConnectMessage = <span class=\"built_in\">TEXT</span>(<span class=\"string\">&quot;Connect Succeed&quot;</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tConnectMessage = <span class=\"built_in\">TEXT</span>(<span class=\"string\">&quot;Connect Failed&quot;</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// Return MySQL Connection Object</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> ConnectionObject;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">UBPFuncLib_FHSQL::GetConnectionState</span><span class=\"params\">(UFH_ConnectionObject* ConnectionObject)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// Judge Current MySQL Connection State</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (ConnectionObject)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (ConnectionObject-&gt;Fh_ConnMysql != <span class=\"literal\">nullptr</span>)</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">UBPFuncLib_FHSQL::CloseConnection</span><span class=\"params\">(UFH_ConnectionObject* ConnectionObject)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// If MySQL Connected -&gt; Close MySQL Connection; Return True</span></span><br><span class=\"line\">\t<span class=\"comment\">// Else -&gt; Return True</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (<span class=\"built_in\">GetConnectionState</span>(ConnectionObject))</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">mysql_close</span>(ConnectionObject-&gt;Fh_ConnMysql);</span><br><span class=\"line\">\t\tConnectionObject-&gt;Fh_ConnMysql = <span class=\"literal\">nullptr</span>;</span><br><span class=\"line\">\t\tConnectionObject = <span class=\"literal\">nullptr</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">UBPFuncLib_FHSQL::ActionOnTableData</span><span class=\"params\">(UFH_ConnectionObject* ConnectionObject, FString SqlQuery)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">const</span> std::string <span class=\"title\">m_SqlQuery</span><span class=\"params\">(TCHAR_TO_UTF8(*SqlQuery))</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// Judge MySQL Is Connected</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (!ConnectionObject)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// Judge SqlQuery Is Apply Succeed</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (<span class=\"built_in\">mysql_query</span>(ConnectionObject-&gt;Fh_ConnMysql, m_SqlQuery.<span class=\"built_in\">c_str</span>()) == <span class=\"number\">0</span>)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\">FString <span class=\"title\">UBPFuncLib_FHSQL::InsertFormatSqlQuery</span><span class=\"params\">(FString TableName, FString InsertValues)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// INSERT INTO TableName VALUES(InsertValues);</span></span><br><span class=\"line\">\tFString SqlQuery = <span class=\"string\">&quot;INSERT INTO &quot;</span> + TableName + <span class=\"string\">&quot; VALUES(&quot;</span> + InsertValues + <span class=\"string\">&quot;);&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> SqlQuery;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\">FString <span class=\"title\">UBPFuncLib_FHSQL::UpdateAllFormatSqlQuery</span><span class=\"params\">(FString TableName, FString UpdateRowName, FString UpdateValue)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;\t<span class=\"comment\">// UPDATE TableName SET RowName=UpdateValue;</span></span><br><span class=\"line\">\tFString SqlQuery = <span class=\"string\">&quot;UPDATE &quot;</span> + TableName + <span class=\"string\">&quot; SET &quot;</span> + UpdateRowName + <span class=\"string\">&quot;=&quot;</span> + UpdateValue + <span class=\"string\">&quot;;&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> SqlQuery;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\">FString <span class=\"title\">UBPFuncLib_FHSQL::UpdateByWhereFormatSqlQuery</span><span class=\"params\">(FString TableName, FString UpdateRowName, FString WhereName, FString WhereSymbol, FString WhereValue, FString UpdateValue)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// UPDATE TableName SET UpdateRowName=UpdateValue WHERE WhereName=WhereValue;</span></span><br><span class=\"line\">\tFString SqlQuery = <span class=\"string\">&quot;UPDATE &quot;</span> + TableName + <span class=\"string\">&quot; SET &quot;</span> + UpdateRowName + <span class=\"string\">&quot;=&quot;</span> + UpdateValue + <span class=\"string\">&quot; WHERE &quot;</span> + WhereName + WhereSymbol + WhereValue + <span class=\"string\">&quot;;&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> SqlQuery;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\">FString <span class=\"title\">UBPFuncLib_FHSQL::DeleteAllFormatSqlQuery</span><span class=\"params\">(FString TableName)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// DELETE FROM TableName;</span></span><br><span class=\"line\">\tFString SqlQuery = <span class=\"string\">&quot;DELETE FROM &quot;</span> + TableName + <span class=\"string\">&quot;;&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> SqlQuery;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\">FString <span class=\"title\">UBPFuncLib_FHSQL::DeleteByWhereFormatSqlQuery</span><span class=\"params\">(FString TableName, FString WhereName, FString WhereSymbol, FString WhereValue)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// DELETE FROM TableName WHERE WhereName=‘WhereValue’;</span></span><br><span class=\"line\">\tFString SqlQuery = <span class=\"string\">&quot;DELETE FROM &quot;</span> + TableName + <span class=\"string\">&quot; WHERE &quot;</span> + WhereName + WhereSymbol + <span class=\"string\">&quot;&#x27;&quot;</span> + WhereValue + <span class=\"string\">&quot;&#x27;;&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> SqlQuery;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">UBPFuncLib_FHSQL::SelectOnTableData</span><span class=\"params\">(UFH_ConnectionObject* ConnectionObject, FString SqlQuery, FQueryResultRows &amp;ResultRows)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\tMYSQL_RES *m_Res = <span class=\"literal\">nullptr</span>;</span><br><span class=\"line\">\tMYSQL_ROW m_Column;</span><br><span class=\"line\">\tTArray&lt;FString&gt; m_ColumnNames;</span><br><span class=\"line\">\tFQueryResultRows m_Rows;</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">const</span> std::string <span class=\"title\">m_SqlQuery</span><span class=\"params\">(TCHAR_TO_UTF8(*SqlQuery))</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (!ConnectionObject)&#123;<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (!ConnectionObject-&gt;Fh_ConnMysql)&#123;<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (!<span class=\"built_in\">mysql_query</span>(ConnectionObject-&gt;Fh_ConnMysql, m_SqlQuery.<span class=\"built_in\">c_str</span>()))</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tResultRows = &#123;&#125;;</span><br><span class=\"line\">\t\tm_Res = <span class=\"built_in\">mysql_store_result</span>(ConnectionObject-&gt;Fh_ConnMysql);</span><br><span class=\"line\">\t\t<span class=\"type\">const</span> <span class=\"type\">int</span> m_Columns = <span class=\"built_in\">mysql_num_fields</span>(m_Res);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span> ((m_Column = <span class=\"built_in\">mysql_fetch_row</span>(m_Res)) != <span class=\"literal\">nullptr</span>)</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tFQueryResultRow m_Row;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; m_Columns; ++i)</span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\tm_Row.RowValue.<span class=\"built_in\">Add</span>(<span class=\"built_in\">UTF8_TO_TCHAR</span>(m_Column[i]));</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\tResultRows.RowsValue.<span class=\"built_in\">Add</span>(m_Row);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"built_in\">mysql_free_result</span>(m_Res);</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\">FString <span class=\"title\">UBPFuncLib_FHSQL::SelectAllFormatSqlQuery</span><span class=\"params\">(FString TableName)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// SELECT * FROM TableName;</span></span><br><span class=\"line\">\tFString SqlQuery = <span class=\"string\">&quot;SELECT * FROM &quot;</span> + TableName + <span class=\"string\">&quot;;&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> SqlQuery;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\">FString <span class=\"title\">UBPFuncLib_FHSQL::SelectByColumnsFormatSqlQuery</span><span class=\"params\">(FString TableName, FString Columns)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// SELECT Columns1, Columns2, Country FROM TableName;</span></span><br><span class=\"line\">\tFString SqlQuery = <span class=\"string\">&quot;SELECT &quot;</span> + Columns + <span class=\"string\">&quot; FROM &quot;</span> + TableName + <span class=\"string\">&quot;;&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> SqlQuery;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\">FQueryResultRow <span class=\"title\">UBPFuncLib_FHSQL::GetRowByIndex</span><span class=\"params\">(<span class=\"type\">const</span> FQueryResultRows &amp;ResultRows, int32 RowIndex)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">const</span> FQueryResultRow m_Row = ResultRows.RowsValue[RowIndex];</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> m_Row;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h5 id=\"6-2-2-Version2-0\"><a href=\"#6-2-2-Version2-0\" class=\"headerlink\" title=\"6.2.2 Version2.0\"></a>6.2.2 Version2.0</h5><ul>\n<li><p><code>BPFuncLib_FHSQL.h</code></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">pragma</span> once</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&quot;CoreMinimal.h&quot;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&quot;Kismet/BlueprintFunctionLibrary.h&quot;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&quot;FH_ConnectionObject.h&quot;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&quot;BPFuncLib_FHSQL.generated.h&quot;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 1.0</span></span><br><span class=\"line\"><span class=\"built_in\">USTRUCT</span>(BlueprintType)</span><br><span class=\"line\"><span class=\"keyword\">struct</span> <span class=\"title class_\">FQueryResultRow</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">GENERATED_BODY</span>()</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"built_in\">UPROPERTY</span>(BlueprintReadWrite, Category=<span class=\"string\">&quot;MySQL|Result Row Value&quot;</span>)</span><br><span class=\"line\">\tTArray&lt;FString&gt; RowValue;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">USTRUCT</span>(BlueprintType)</span><br><span class=\"line\"><span class=\"keyword\">struct</span> <span class=\"title class_\">FQueryResultRows</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">GENERATED_BODY</span>()</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"built_in\">UPROPERTY</span>(BlueprintReadWrite, Category=<span class=\"string\">&quot;MySQL|Result Rows Value&quot;</span>)</span><br><span class=\"line\">\tTArray&lt;FQueryResultRow&gt; RowsValue;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 2.0</span></span><br><span class=\"line\"><span class=\"built_in\">USTRUCT</span>(BlueprintType)</span><br><span class=\"line\"><span class=\"keyword\">struct</span> <span class=\"title class_\">FRowMap</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">GENERATED_BODY</span>()</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"built_in\">UPROPERTY</span>(BlueprintReadWrite, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\">\tTMap&lt;FString, FString&gt; RowMap;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">USTRUCT</span>(BlueprintType)</span><br><span class=\"line\"><span class=\"keyword\">struct</span> <span class=\"title class_\">FResArray</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">GENERATED_BODY</span>()</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"built_in\">UPROPERTY</span>(BlueprintReadWrite, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\">\tTArray&lt;FRowMap&gt; ResArray;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">UCLASS</span>(BlueprintType)</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">FH_MYSQL_API</span> UBPFuncLib_FHSQL : <span class=\"keyword\">public</span> UBlueprintFunctionLibrary</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">GENERATED_BODY</span>()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">\t<span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">\t * 2.0 Select All Results In TArray&lt;TMap&gt; ResArray</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span></span><br><span class=\"line\">\t<span class=\"built_in\">UFUNCTION</span>(BlueprintCallable, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">static</span> <span class=\"type\">bool</span> <span class=\"title\">SelectOnTableToMap</span><span class=\"params\">(UFH_ConnectionObject* ConnectionObject, FString SqlQuery, FResArray&amp; ResArray)</span></span>;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">\t * Connection == MySQL Object</span></span><br><span class=\"line\"><span class=\"comment\">\t * @return *UFH_ConnectionObject == MySQL Connector</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span></span><br><span class=\"line\">\t<span class=\"built_in\">UFUNCTION</span>(BlueprintCallable, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">static</span> UFH_ConnectionObject *<span class=\"title\">ConnectToMySQL</span><span class=\"params\">(FString Host, FString UserName, FString PassWord, FString DBName,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">\t\t\t\t\t\t\t\t\t\t\t\tint32 Port, FString &amp;ConnectMessage)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">\t * ConnectionObject == MySQL Object</span></span><br><span class=\"line\"><span class=\"comment\">\t * @return bool == ConnectionState</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span></span><br><span class=\"line\">\t<span class=\"built_in\">UFUNCTION</span>(BlueprintCallable, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">static</span> <span class=\"type\">bool</span> <span class=\"title\">GetConnectionState</span><span class=\"params\">(UFH_ConnectionObject *ConnectionObject)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">\t * ConnectionObject == MySQL Object</span></span><br><span class=\"line\"><span class=\"comment\">\t * @return bool == ConnectionState</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span></span><br><span class=\"line\">\t<span class=\"built_in\">UFUNCTION</span>(BlueprintCallable, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">static</span> <span class=\"type\">bool</span> <span class=\"title\">CloseConnection</span><span class=\"params\">(UFH_ConnectionObject *ConnectionObject)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">\t * ConnectionObject == MySQL Object</span></span><br><span class=\"line\"><span class=\"comment\">\t * @return bool == Insert, Update, Delete Data Is Succeed Or Failed</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span></span><br><span class=\"line\">\t<span class=\"built_in\">UFUNCTION</span>(BlueprintCallable, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">static</span> <span class=\"type\">bool</span> <span class=\"title\">ActionOnTableData</span><span class=\"params\">(UFH_ConnectionObject *ConnectionObject, FString SqlQuery)</span></span>;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">\t * TableName = DataBase TableName</span></span><br><span class=\"line\"><span class=\"comment\">\t * InsertValues = MySQL Insert Values to Table</span></span><br><span class=\"line\"><span class=\"comment\">\t * @return FString = MySQL Insert Query -&gt; Insert</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span></span><br><span class=\"line\">\t<span class=\"built_in\">UFUNCTION</span>(BlueprintPure, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">static</span> FString <span class=\"title\">InsertFormatSqlQuery</span><span class=\"params\">(FString TableName, FString InsertValues)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">\t * TableName = DataBase TableName</span></span><br><span class=\"line\"><span class=\"comment\">\t * RowName = Need Update Row</span></span><br><span class=\"line\"><span class=\"comment\">\t * @return FString = MySQL Update Query -&gt; Update</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span>\t</span><br><span class=\"line\">\t<span class=\"built_in\">UFUNCTION</span>(BlueprintPure, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">static</span> FString <span class=\"title\">UpdateAllFormatSqlQuery</span><span class=\"params\">(FString TableName, FString RowName, FString UpdateValue)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">\t * TableName = DataBase TableName</span></span><br><span class=\"line\"><span class=\"comment\">\t * RowName = Need Update Row</span></span><br><span class=\"line\"><span class=\"comment\">\t * WhereName = Update Where</span></span><br><span class=\"line\"><span class=\"comment\">\t * WhereSymbol = Operator Or Symbol</span></span><br><span class=\"line\"><span class=\"comment\">\t * WhereValue = Condition Name</span></span><br><span class=\"line\"><span class=\"comment\">\t * UpdateValue = Need Update Date Value</span></span><br><span class=\"line\"><span class=\"comment\">\t * @return FString = MySQL Update Query -&gt; Update</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span>\t</span><br><span class=\"line\">\t<span class=\"built_in\">UFUNCTION</span>(BlueprintPure, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">static</span> FString <span class=\"title\">UpdateByWhereFormatSqlQuery</span><span class=\"params\">(FString TableName, FString RowName, FString WhereName, FString WhereSymbol, FString WhereValue, FString UpdateValue)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">\t * TableName = DataBase TableName</span></span><br><span class=\"line\"><span class=\"comment\">\t * @return FString = MySQL Delete Query -&gt; Delete</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span></span><br><span class=\"line\">\t<span class=\"built_in\">UFUNCTION</span>(BlueprintPure, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">static</span> FString <span class=\"title\">DeleteAllFormatSqlQuery</span><span class=\"params\">(FString TableName)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">\t * TableName = DataBase TableName</span></span><br><span class=\"line\"><span class=\"comment\">\t * WhereName = Update Where</span></span><br><span class=\"line\"><span class=\"comment\">\t * WhereSymbol = Operator Or Symbol</span></span><br><span class=\"line\"><span class=\"comment\">\t * WhereValue = Condition Name</span></span><br><span class=\"line\"><span class=\"comment\">\t * @return FString = MySQL Delete Query -&gt; Delete</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span></span><br><span class=\"line\">\t<span class=\"built_in\">UFUNCTION</span>(BlueprintPure, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">static</span> FString <span class=\"title\">DeleteByWhereFormatSqlQuery</span><span class=\"params\">(FString TableName, FString WhereName, FString WhereSymbol, FString WhereValue)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">\t * ConnectionObject == MySQL Object</span></span><br><span class=\"line\"><span class=\"comment\">\t * @return bool == Select Data Is Succeed Or Failed</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span>\t</span><br><span class=\"line\">\t<span class=\"built_in\">UFUNCTION</span>(BlueprintCallable, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">static</span> <span class=\"type\">bool</span> <span class=\"title\">SelectOnTableData</span><span class=\"params\">(UFH_ConnectionObject *ConnectionObject, FString SqlQuery, FQueryResultRows &amp;ResultRows)</span></span>;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">\t * TableName = DataBase TableName</span></span><br><span class=\"line\"><span class=\"comment\">\t * @return FString = MySQL Select Query -&gt; Select</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span></span><br><span class=\"line\">\t<span class=\"built_in\">UFUNCTION</span>(BlueprintPure, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">static</span> FString <span class=\"title\">SelectAllFormatSqlQuery</span><span class=\"params\">(FString TableName)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">\t * TableName = DataBase TableName</span></span><br><span class=\"line\"><span class=\"comment\">\t * @return FString = MySQL Select Query -&gt; Select</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span>\t</span><br><span class=\"line\">\t<span class=\"built_in\">UFUNCTION</span>(BlueprintPure, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">static</span> FString <span class=\"title\">SelectByColumnsFormatSqlQuery</span><span class=\"params\">(FString TableName, FString Columns)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">\t * TableName = DataBase TableName</span></span><br><span class=\"line\"><span class=\"comment\">\t * @return TArray&lt;FString&gt; = Get All Rows -&gt; In All Columns Values</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span>\t\t</span><br><span class=\"line\">\t<span class=\"built_in\">UFUNCTION</span>(BlueprintPure, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">static</span> FQueryResultRow <span class=\"title\">SelectGetRowByIndex</span><span class=\"params\">(<span class=\"type\">const</span> FQueryResultRows &amp;ResultRows, int32 RowIndex)</span></span>;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n\n</li>\n<li><p><code>BPFuncLib_FHSQL.cpp</code></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&quot;BPFuncLib_FHSQL.h&quot;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&quot;mysql.h&quot;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;string&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\">UFH_ConnectionObject* <span class=\"title\">UBPFuncLib_FHSQL::ConnectToMySQL</span><span class=\"params\">(FString Host, FString UserName, FString PassWord, FString DBName,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">                                                       int32 Port, FString &amp;ConnectMessage)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">const</span> std::string <span class=\"title\">m_Host</span><span class=\"params\">(TCHAR_TO_UTF8(*Host))</span></span>;</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">const</span> std::string <span class=\"title\">m_UserName</span><span class=\"params\">(TCHAR_TO_UTF8(*UserName))</span></span>;</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">const</span> std::string <span class=\"title\">m_PassWord</span><span class=\"params\">(TCHAR_TO_UTF8(*PassWord))</span></span>;</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">const</span> std::string <span class=\"title\">m_DBName</span><span class=\"params\">(TCHAR_TO_UTF8(*DBName))</span></span>;</span><br><span class=\"line\">\t<span class=\"type\">const</span> uint32 m_Port = Port; </span><br><span class=\"line\">\t</span><br><span class=\"line\">\tUFH_ConnectionObject *ConnectionObject = <span class=\"built_in\">NewObject</span>&lt;UFH_ConnectionObject&gt;();</span><br><span class=\"line\">\tConnectionObject-&gt;Fh_ConnMysql = <span class=\"built_in\">mysql_init</span>(<span class=\"literal\">nullptr</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">constexpr</span> <span class=\"type\">bool</span> reconnect = <span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">mysql_options</span>(ConnectionObject-&gt;Fh_ConnMysql, MYSQL_OPT_RECONNECT, &amp;reconnect);</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// 判断连接是否成功，失败返回 NULL</span></span><br><span class=\"line\">\t<span class=\"type\">const</span> <span class=\"keyword\">auto</span> IsConnected = <span class=\"built_in\">mysql_real_connect</span>(</span><br><span class=\"line\">\t\t\t\tConnectionObject-&gt;Fh_ConnMysql,</span><br><span class=\"line\">\t\t\t\tm_Host.<span class=\"built_in\">c_str</span>(),</span><br><span class=\"line\">\t\t\t\tm_UserName.<span class=\"built_in\">c_str</span>(),</span><br><span class=\"line\">\t\t\t\tm_PassWord.<span class=\"built_in\">c_str</span>(),</span><br><span class=\"line\">\t\t\t\tm_DBName.<span class=\"built_in\">c_str</span>(),</span><br><span class=\"line\">\t\t\t\tm_Port,</span><br><span class=\"line\">\t\t\t\t<span class=\"literal\">nullptr</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"number\">0</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (IsConnected == <span class=\"literal\">nullptr</span>)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tConnectMessage = <span class=\"built_in\">TEXT</span>(<span class=\"string\">&quot;Connect Failed&quot;</span>);</span><br><span class=\"line\">\t\tConnectionObject = <span class=\"literal\">nullptr</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tConnectMessage = <span class=\"built_in\">TEXT</span>(<span class=\"string\">&quot;Connect Succeed&quot;</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> ConnectionObject;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">UBPFuncLib_FHSQL::GetConnectionState</span><span class=\"params\">(UFH_ConnectionObject* ConnectionObject)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// 判断当前 MySQL 连接状态</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (ConnectionObject &amp;&amp; ConnectionObject-&gt;Fh_ConnMysql != <span class=\"literal\">nullptr</span>)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">UBPFuncLib_FHSQL::CloseConnection</span><span class=\"params\">(UFH_ConnectionObject* ConnectionObject)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (<span class=\"built_in\">GetConnectionState</span>(ConnectionObject))</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">mysql_close</span>(ConnectionObject-&gt;Fh_ConnMysql);</span><br><span class=\"line\">\t\tConnectionObject-&gt;Fh_ConnMysql = <span class=\"literal\">nullptr</span>;</span><br><span class=\"line\">\t\tConnectionObject = <span class=\"literal\">nullptr</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">UBPFuncLib_FHSQL::ActionOnTableData</span><span class=\"params\">(UFH_ConnectionObject* ConnectionObject, FString SqlQuery)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">const</span> std::string <span class=\"title\">m_SqlQuery</span><span class=\"params\">(TCHAR_TO_UTF8(*SqlQuery))</span></span>;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (!ConnectionObject || !ConnectionObject-&gt;Fh_ConnMysql)&#123;<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">mysql_ping</span>(ConnectionObject-&gt;Fh_ConnMysql);</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (<span class=\"built_in\">mysql_query</span>(ConnectionObject-&gt;Fh_ConnMysql, m_SqlQuery.<span class=\"built_in\">c_str</span>()) == <span class=\"number\">0</span>)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\">FString <span class=\"title\">UBPFuncLib_FHSQL::InsertFormatSqlQuery</span><span class=\"params\">(FString TableName, FString InsertValues)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// INSERT INTO TableName VALUES(InsertValues);</span></span><br><span class=\"line\">\tFString SqlQuery = <span class=\"string\">&quot;INSERT INTO &quot;</span> + TableName + <span class=\"string\">&quot; VALUES(&quot;</span> + InsertValues + <span class=\"string\">&quot;);&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> SqlQuery;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\">FString <span class=\"title\">UBPFuncLib_FHSQL::UpdateAllFormatSqlQuery</span><span class=\"params\">(FString TableName, FString UpdateRowName, FString UpdateValue)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;\t<span class=\"comment\">// UPDATE TableName SET RowName=UpdateValue;</span></span><br><span class=\"line\">\tFString SqlQuery = <span class=\"string\">&quot;UPDATE &quot;</span> + TableName + <span class=\"string\">&quot; SET &quot;</span> + UpdateRowName + <span class=\"string\">&quot;=&quot;</span> + UpdateValue + <span class=\"string\">&quot;;&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> SqlQuery;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\">FString <span class=\"title\">UBPFuncLib_FHSQL::UpdateByWhereFormatSqlQuery</span><span class=\"params\">(FString TableName, FString UpdateRowName, FString WhereName, FString WhereSymbol, FString WhereValue, FString UpdateValue)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// UPDATE TableName SET UpdateRowName=UpdateValue WHERE WhereName=WhereValue;</span></span><br><span class=\"line\">\tFString SqlQuery = <span class=\"string\">&quot;UPDATE &quot;</span> + TableName + <span class=\"string\">&quot; SET &quot;</span> + UpdateRowName + <span class=\"string\">&quot;=&quot;</span> + UpdateValue + <span class=\"string\">&quot; WHERE &quot;</span> + WhereName + WhereSymbol + WhereValue + <span class=\"string\">&quot;;&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> SqlQuery;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\">FString <span class=\"title\">UBPFuncLib_FHSQL::DeleteAllFormatSqlQuery</span><span class=\"params\">(FString TableName)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// DELETE FROM TableName;</span></span><br><span class=\"line\">\tFString SqlQuery = <span class=\"string\">&quot;DELETE FROM &quot;</span> + TableName + <span class=\"string\">&quot;;&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> SqlQuery;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\">FString <span class=\"title\">UBPFuncLib_FHSQL::DeleteByWhereFormatSqlQuery</span><span class=\"params\">(FString TableName, FString WhereName, FString WhereSymbol, FString WhereValue)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// DELETE FROM TableName WHERE WhereName=‘WhereValue’;</span></span><br><span class=\"line\">\tFString SqlQuery = <span class=\"string\">&quot;DELETE FROM &quot;</span> + TableName + <span class=\"string\">&quot; WHERE &quot;</span> + WhereName + WhereSymbol + <span class=\"string\">&quot;&#x27;&quot;</span> + WhereValue + <span class=\"string\">&quot;&#x27;;&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> SqlQuery;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\"> * version = 1.0</span></span><br><span class=\"line\"><span class=\"comment\"> * 不好用，用 version = 2.0</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">UBPFuncLib_FHSQL::SelectOnTableData</span><span class=\"params\">(UFH_ConnectionObject* ConnectionObject, FString SqlQuery, FQueryResultRows &amp;ResultRows)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\tMYSQL_RES *m_Res;</span><br><span class=\"line\">\tMYSQL_ROW m_Column;</span><br><span class=\"line\">\tTArray&lt;FString&gt; m_ColumnNames;</span><br><span class=\"line\">\tFQueryResultRows m_Rows;</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">const</span> std::string <span class=\"title\">m_SqlQuery</span><span class=\"params\">(TCHAR_TO_UTF8(*SqlQuery))</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (!ConnectionObject)&#123;<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (!ConnectionObject-&gt;Fh_ConnMysql)&#123;<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">mysql_ping</span>(ConnectionObject-&gt;Fh_ConnMysql);</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (!<span class=\"built_in\">mysql_query</span>(ConnectionObject-&gt;Fh_ConnMysql, m_SqlQuery.<span class=\"built_in\">c_str</span>()))</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tResultRows = &#123;&#125;;</span><br><span class=\"line\">\t\tm_Res = <span class=\"built_in\">mysql_store_result</span>(ConnectionObject-&gt;Fh_ConnMysql);</span><br><span class=\"line\">\t\t<span class=\"type\">const</span> <span class=\"type\">int</span> m_Columns = <span class=\"built_in\">mysql_num_fields</span>(m_Res);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span> ((m_Column = <span class=\"built_in\">mysql_fetch_row</span>(m_Res)) != <span class=\"literal\">nullptr</span>)</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tFQueryResultRow m_Row;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; m_Columns; ++i)</span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\tm_Row.RowValue.<span class=\"built_in\">Add</span>(<span class=\"built_in\">UTF8_TO_TCHAR</span>(m_Column[i]));</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\tResultRows.RowsValue.<span class=\"built_in\">Add</span>(m_Row);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t<span class=\"built_in\">mysql_free_result</span>(m_Res);</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\"> * version = 2.0</span></span><br><span class=\"line\"><span class=\"comment\"> * 蓝图里可以得到数据库查询的所有值，存在 TArray&lt;&gt;里</span></span><br><span class=\"line\"><span class=\"comment\"> * TArray&lt;&gt;可以但数组用，TArray[0] == 数据表的第一行 == TMap&lt;Key, Value&gt;</span></span><br><span class=\"line\"><span class=\"comment\"> * TMap&lt;Key, Value&gt; =&gt; Key == 数据表列的名称，Value == 对应列的值</span></span><br><span class=\"line\"><span class=\"comment\"> * 用法：</span></span><br><span class=\"line\"><span class=\"comment\"> *\t1. 先中断 FResArray(Struct) 得到 FRowMap(Struct)[]</span></span><br><span class=\"line\"><span class=\"comment\"> *\t2. 遍历 FRowMap(Struct)[] 得到 FRowMap(Struct)</span></span><br><span class=\"line\"><span class=\"comment\"> *\t3. 中断 FRowMap(Struct) 得到 RowMap(Map)</span></span><br><span class=\"line\"><span class=\"comment\"> *\t4. 获得 RowMap的 Keys, 遍历 keys, 通过key -&gt; find Map 得到 value</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">UBPFuncLib_FHSQL::SelectOnTableToMap</span><span class=\"params\">(UFH_ConnectionObject* ConnectionObject, FString SqlQuery, FResArray&amp; ResArray)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (!ConnectionObject || !ConnectionObject-&gt;Fh_ConnMysql)&#123;ResArray = &#123;&#125;; <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;&#125;</span><br><span class=\"line\">\t<span class=\"built_in\">mysql_ping</span>(ConnectionObject-&gt;Fh_ConnMysql);</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">const</span> std::string <span class=\"title\">m_SqlQuery</span><span class=\"params\">(TCHAR_TO_UTF8(*SqlQuery))</span></span>;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (!<span class=\"built_in\">mysql_query</span>(ConnectionObject-&gt;Fh_ConnMysql, m_SqlQuery.<span class=\"built_in\">c_str</span>()))</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tMYSQL_RES* Res = <span class=\"built_in\">mysql_store_result</span>(ConnectionObject-&gt;Fh_ConnMysql);</span><br><span class=\"line\">\t\t<span class=\"type\">const</span> int32 num_rows = <span class=\"built_in\">mysql_num_rows</span>(Res);</span><br><span class=\"line\">\t\t<span class=\"type\">const</span> int32 num_fields = <span class=\"built_in\">mysql_num_fields</span>(Res);</span><br><span class=\"line\">\t\tMYSQL_FIELD* field = <span class=\"built_in\">mysql_fetch_field</span>(Res);</span><br><span class=\"line\">\t\tMYSQL_ROW row = <span class=\"built_in\">mysql_fetch_row</span>(Res);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tResArray.ResArray.<span class=\"built_in\">Init</span>(FRowMap&#123;&#125;, num_rows);</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; num_rows; ++i)</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span> (<span class=\"type\">int</span> j = <span class=\"number\">0</span>; j &lt; num_fields; ++j)</span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\tResArray.ResArray[i].RowMap.<span class=\"built_in\">Add</span>(field[j].name, row[j]);</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"built_in\">mysql_free_result</span>(Res);</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\">FString <span class=\"title\">UBPFuncLib_FHSQL::SelectAllFormatSqlQuery</span><span class=\"params\">(FString TableName)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// SELECT * FROM TableName;</span></span><br><span class=\"line\">\tFString SqlQuery = <span class=\"string\">&quot;SELECT * FROM &quot;</span> + TableName + <span class=\"string\">&quot;;&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> SqlQuery;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\">FString <span class=\"title\">UBPFuncLib_FHSQL::SelectByColumnsFormatSqlQuery</span><span class=\"params\">(FString TableName, FString Columns)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// SELECT Columns1, Columns2, Country FROM TableName;</span></span><br><span class=\"line\">\tFString SqlQuery = <span class=\"string\">&quot;SELECT &quot;</span> + Columns + <span class=\"string\">&quot; FROM &quot;</span> + TableName + <span class=\"string\">&quot;;&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> SqlQuery;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\">FQueryResultRow <span class=\"title\">UBPFuncLib_FHSQL::SelectGetRowByIndex</span><span class=\"params\">(<span class=\"type\">const</span> FQueryResultRows &amp;ResultRows, int32 RowIndex)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">const</span> FQueryResultRow m_Row = ResultRows.RowsValue[RowIndex];</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> m_Row;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h3 id=\"7-编译项目\"><a href=\"#7-编译项目\" class=\"headerlink\" title=\"7. 编译项目\"></a>7. 编译项目</h3><ul>\n<li>在<code>Rider</code>内进行项目编译</li>\n<li>编译完成，可以在<code>Rider</code>内直接<code>运行</code>启动<code>UE4项目</code></li>\n</ul>\n<h3 id=\"8-打包插件\"><a href=\"#8-打包插件\" class=\"headerlink\" title=\"8. 打包插件\"></a>8. 打包插件</h3><h4 id=\"8-1-打包前设置编译工具\"><a href=\"#8-1-打包前设置编译工具\" class=\"headerlink\" title=\"8.1 打包前设置编译工具\"></a>8.1 打包前设置编译工具</h4><ul>\n<li><p>前提：如果安装的<code>Visual Studio 2017</code>可能不需要进行这个步骤，直接进入下一步</p>\n</li>\n<li><p>打包出现<code>RunUAT</code>相关错误信息，再进行此步骤</p>\n</li>\n<li><p>如果使用的是<code>Visual Studio 2019</code>或<code>Visual Studio 2022</code>或其他版本</p>\n</li>\n<li><p>找到<code>RunUAT.bat</code>文件，用<code>记事本</code>打开或编辑</p>\n</li>\n<li><p>文件位置<code>UE4引擎的安装目录\\UE_4.27\\Engine\\Build\\BatchFiles</code></p>\n</li>\n<li><p><code>编辑 -&gt; 查找</code>，<code>%UATExecutable%</code></p>\n</li>\n<li><p><code>%UATExecutable% %* %UATCompileArg%</code>修改为<code>%UATExecutable% %* -VS2019=true %UATCompileArg%</code></p>\n</li>\n<li><p><code>我用的是 VS2022，修改成2022好像不行</code>，但修改成<code>2019</code>就可以正常打包了</p>\n</li>\n</ul>\n<h4 id=\"8-2-打包MySQL插件\"><a href=\"#8-2-打包MySQL插件\" class=\"headerlink\" title=\"8.2 打包MySQL插件\"></a>8.2 打包MySQL插件</h4><ol>\n<li>找到<code>Edit</code>或<code>Settings</code></li>\n<li>选择<code>plugins</code>进入插件界面</li>\n<li>找到插件<code>FH_MySQL</code></li>\n<li>可选步骤<code>Edit</code>，进行插件的相关信息的编辑，包括插件的图标</li>\n<li>点击<code>Package(打包)</code>，选择打包目录<code>自定义</code></li>\n<li>等待打包完成即可</li>\n<li>我自己的电脑上的环境打包，完全没有任何<code>Warning</code>和<code>Error</code>，所以理论上打包不存在问题（写这个插件的时候遇到了很多问题，但用我提供的环境库文件和配置步骤，问题都一个个解决了）</li>\n</ol>\n","text":"UE4 MySQL插件开发[toc] 1. 项目简介 个人UrealEngine MySQL Plugin开发流程 方便UnrealEngine项目链接和操作M...","permalink":"/post/7_UE4_MySQL插件开发_02","photos":[],"count_time":{"symbolsCount":"27k","symbolsTime":"25 mins."},"categories":[{"name":"UnrealEngine","slug":"UnrealEngine","count":12,"path":"api/categories/UnrealEngine.json"},{"name":"MySQL","slug":"UnrealEngine/MySQL","count":2,"path":"api/categories/UnrealEngine/MySQL.json"}],"tags":[{"name":"UnrealEngine","slug":"UnrealEngine","count":12,"path":"api/tags/UnrealEngine.json"},{"name":"MySQL","slug":"MySQL","count":2,"path":"api/tags/MySQL.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#UE4-MySQL%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91\"><span class=\"toc-text\">UE4 MySQL插件开发</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-%E9%A1%B9%E7%9B%AE%E7%AE%80%E4%BB%8B\"><span class=\"toc-text\">1. 项目简介</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-%E9%A1%B9%E7%9B%AE%E7%8E%AF%E5%A2%83\"><span class=\"toc-text\">2. 项目环境</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-%E9%A1%B9%E7%9B%AE%E8%B5%84%E6%BA%90\"><span class=\"toc-text\">3. 项目资源</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#3-1-%E8%B5%84%E6%BA%90%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84\"><span class=\"toc-text\">3.1 资源文件结构</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#3-2-%E8%B5%84%E6%BA%90%E9%93%BE%E6%8E%A5\"><span class=\"toc-text\">3.2 资源链接</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA\"><span class=\"toc-text\">4. 项目创建</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#4-1-%E5%88%9B%E5%BB%BAUE4%E9%A1%B9%E7%9B%AE\"><span class=\"toc-text\">4.1 创建UE4项目</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#4-2-%E5%88%9B%E5%BB%BA%E6%96%B0%E6%8F%92%E4%BB%B6\"><span class=\"toc-text\">4.2 创建新插件</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#4-3-%E5%88%9B%E5%BB%BAMySQL-C-%E7%B1%BB\"><span class=\"toc-text\">4.3 创建MySQL C++类</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#4-3-1-FH-ConnectionObject\"><span class=\"toc-text\">4.3.1 FH_ConnectionObject</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#4-3-2-BPFuncLib-FHSQL\"><span class=\"toc-text\">4.3.2 BPFuncLib_FHSQL</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#5-%E9%A1%B9%E7%9B%AE%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">5. 项目配置</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#5-1-%E5%BC%95%E5%85%A5MySQL%E7%8E%AF%E5%A2%83%E5%BA%93\"><span class=\"toc-text\">5.1 引入MySQL环境库</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#5-1-1-%E5%AF%BC%E5%85%A5%E7%8E%AF%E5%A2%83%E5%BA%93\"><span class=\"toc-text\">5.1.1 导入环境库</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#5-1-2-%E9%85%8D%E7%BD%AE%E9%A1%B9%E7%9B%AE%E5%B1%9E%E6%80%A7\"><span class=\"toc-text\">5.1.2 配置项目属性</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#5-1-3-%E9%85%8D%E7%BD%AE%E9%A1%B9%E7%9B%AE%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">5.1.3 配置项目文件</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#6-MySQL-C-%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">6. MySQL C++文件</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#6-1-MySQL%E8%BF%9E%E6%8E%A5%E5%AF%B9%E8%B1%A1\"><span class=\"toc-text\">6.1 MySQL连接对象</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#6-2-MySQL%E5%87%BD%E6%95%B0%E5%B7%A5%E5%85%B7%E5%BA%93\"><span class=\"toc-text\">6.2 MySQL函数工具库</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#6-2-1-Version1-0\"><span class=\"toc-text\">6.2.1 Version1.0</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#6-2-2-Version2-0\"><span class=\"toc-text\">6.2.2 Version2.0</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#7-%E7%BC%96%E8%AF%91%E9%A1%B9%E7%9B%AE\"><span class=\"toc-text\">7. 编译项目</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#8-%E6%89%93%E5%8C%85%E6%8F%92%E4%BB%B6\"><span class=\"toc-text\">8. 打包插件</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#8-1-%E6%89%93%E5%8C%85%E5%89%8D%E8%AE%BE%E7%BD%AE%E7%BC%96%E8%AF%91%E5%B7%A5%E5%85%B7\"><span class=\"toc-text\">8.1 打包前设置编译工具</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#8-2-%E6%89%93%E5%8C%85MySQL%E6%8F%92%E4%BB%B6\"><span class=\"toc-text\">8.2 打包MySQL插件</span></a></li></ol></li></ol></li></ol></li></ol>","author":{"name":"FangH","slug":"blog-author","avatar":"/img/fh.png","link":"/","description":"我曾惊鸿一瞥未来","socials":{"github":"https://github.com/FHangH","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"https://www.zhihu.com/people/zi-heng-18-99-47","csdn":"https://blog.csdn.net/weixin_44519692?spm=1000.2115.3001.5343","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"UE4 MySQL插件使用","uid":"392fe5e03b8c7afffa5955ae17305c17","slug":"7_UE4_MySQL插件使用_03","date":"2022-10-06T07:28:25.950Z","updated":"2023-01-10T01:10:19.445Z","comments":true,"path":"api/articles/7_UE4_MySQL插件使用_03.json","keywords":null,"cover":"https://cdn.jsdelivr.net/gh/FHangH/FHangBlogCDN_03@master/Aurora_ (19).webp","text":"UE4 MySQL插件使用[toc] Update To 2.0 修复了一些bool返回结果错误的bug 优化了代码的可读性 更新了新的2.0方法 《Selec...","permalink":"/post/7_UE4_MySQL插件使用_03","photos":[],"count_time":{"symbolsCount":"5.3k","symbolsTime":"5 mins."},"categories":[{"name":"UnrealEngine","slug":"UnrealEngine","count":12,"path":"api/categories/UnrealEngine.json"},{"name":"MySQL","slug":"UnrealEngine/MySQL","count":2,"path":"api/categories/UnrealEngine/MySQL.json"}],"tags":[{"name":"UnrealEngine","slug":"UnrealEngine","count":12,"path":"api/tags/UnrealEngine.json"},{"name":"MySQL","slug":"MySQL","count":2,"path":"api/tags/MySQL.json"}],"author":{"name":"FangH","slug":"blog-author","avatar":"/img/fh.png","link":"/","description":"我曾惊鸿一瞥未来","socials":{"github":"https://github.com/FHangH","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"https://www.zhihu.com/people/zi-heng-18-99-47","csdn":"https://blog.csdn.net/weixin_44519692?spm=1000.2115.3001.5343","juejin":"","customs":{}}}},"next_post":{"title":"Git个人使用","uid":"9bb1210f38db3e1f819e50bcd1059252","slug":"6.Git个人使用","date":"2022-10-06T07:28:25.946Z","updated":"2023-01-10T01:10:19.446Z","comments":true,"path":"api/articles/6.Git个人使用.json","keywords":null,"cover":"https://cdn.jsdelivr.net/gh/FHangH/FHangBlogCDN_03@master/Aurora_ (16).webp","text":"Git个人使用[toc] 1234// 2021-02-19：苦于还是不记得git bash的使用，每次使用都要到网上找一会，太麻烦了，决定写成博客，记录一下个...","permalink":"/post/6.Git个人使用","photos":[],"count_time":{"symbolsCount":"15k","symbolsTime":"14 mins."},"categories":[{"name":"编程","slug":"编程","count":16,"path":"api/categories/编程.json"}],"tags":[{"name":"Git","slug":"Git","count":1,"path":"api/tags/Git.json"}],"author":{"name":"FangH","slug":"blog-author","avatar":"/img/fh.png","link":"/","description":"我曾惊鸿一瞥未来","socials":{"github":"https://github.com/FHangH","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"https://www.zhihu.com/people/zi-heng-18-99-47","csdn":"https://blog.csdn.net/weixin_44519692?spm=1000.2115.3001.5343","juejin":"","customs":{}}}}}