{"title":"UE5增强输入","uid":"87c0c031df7f79bbfd15a7ef58b4eb65","slug":"7_12_UE5增强输入","date":"2024-02-22T08:26:40.571Z","updated":"2024-02-22T08:28:36.187Z","comments":true,"path":"api/articles/7_12_UE5增强输入.json","keywords":null,"cover":"https://cdn.jsdelivr.net/gh/FHangH/FHangBlogCDN_03@master/Aurora_ (34).webp","content":"<h1 id=\"EnhancedInput\"><a href=\"#EnhancedInput\" class=\"headerlink\" title=\"EnhancedInput\"></a>EnhancedInput</h1><p>使用增强输入完成Character的输入</p>\n<p>[toc]</p>\n<h3 id=\"1-创建InputAction\"><a href=\"#1-创建InputAction\" class=\"headerlink\" title=\"1. 创建InputAction\"></a>1. 创建InputAction</h3><p>创建<code>IA_Jump</code>：</p>\n<ul>\n<li>默认值类型：数字（布尔）</li>\n</ul>\n<p>创建<code>IA_Move</code>：</p>\n<ul>\n<li>默认值类型：Axis2D（Vector2D）</li>\n</ul>\n<p>创建<code>IA_Look</code>：</p>\n<ul>\n<li>默认值类型：Axis2D（Vector2D）</li>\n</ul>\n<h3 id=\"2-创建InputMappingContext\"><a href=\"#2-创建InputMappingContext\" class=\"headerlink\" title=\"2. 创建InputMappingContext\"></a>2. 创建InputMappingContext</h3><p>创建<code>IMC_Action</code>：</p>\n<ul>\n<li>添加映射：<code>IA_Jump</code><ul>\n<li>映射按键：<code>Space</code></li>\n</ul>\n</li>\n</ul>\n<p>创建<code>IMC_Movement</code>：</p>\n<ul>\n<li>添加映射：<code>IA_Move</code><ul>\n<li>映射按键：<code>W</code><ul>\n<li>修改器：<code>拌合输入轴值：YXZ</code></li>\n</ul>\n</li>\n<li>映射按键：<code>S</code><ul>\n<li>修改器：<code>否定：XYZ</code>、<code>拌合输入轴值：YXZ</code></li>\n</ul>\n</li>\n<li>映射按键：<code>D</code></li>\n<li>映射按键：<code>A</code><ul>\n<li>修改器：<code>否定：XYZ</code></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>添加映射：<code>IA_Look</code><ul>\n<li>映射按键：<code>鼠标XY 2D轴</code><ul>\n<li>修改器：<code>否定：Y</code></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"3-Build-cs\"><a href=\"#3-Build-cs\" class=\"headerlink\" title=\"3. Build.cs\"></a>3. Build.cs</h3><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">PublicDependencyModuleNames.AddRange(<span class=\"keyword\">new</span> <span class=\"built_in\">string</span>[] &#123; <span class=\"string\">&quot;EnhancedInput&quot;</span> &#125;);</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"4-PlayerController\"><a href=\"#4-PlayerController\" class=\"headerlink\" title=\"4. PlayerController\"></a>4. PlayerController</h3><p><code>PlayerController.h</code></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">UInputMappingContext</span>;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">UInputAction</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">\t<span class=\"comment\">// Input</span></span><br><span class=\"line\">\t<span class=\"comment\">// Mapping</span></span><br><span class=\"line\">\t<span class=\"built_in\">UPROPERTY</span>(EditAnywhere, BlueprintReadWrite, Category=<span class=\"string\">&quot;Input|IMC&quot;</span>, meta=(AllowPrivateAccess=<span class=\"literal\">true</span>))</span><br><span class=\"line\">\tUInputMappingContext* IMC_Movement;</span><br><span class=\"line\">\t<span class=\"built_in\">UPROPERTY</span>(EditAnywhere, BlueprintReadWrite, Category=<span class=\"string\">&quot;Input|IMC&quot;</span>, meta=(AllowPrivateAccess=<span class=\"literal\">true</span>))</span><br><span class=\"line\">\tUInputMappingContext* IMC_Action;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// Action</span></span><br><span class=\"line\">\t<span class=\"built_in\">UPROPERTY</span>(EditAnywhere, BlueprintReadWrite, Category=<span class=\"string\">&quot;Input|IA&quot;</span>, meta=(AllowPrivateAccess=<span class=\"literal\">true</span>))</span><br><span class=\"line\">\tUInputAction* IA_Move;</span><br><span class=\"line\">\t<span class=\"built_in\">UPROPERTY</span>(EditAnywhere, BlueprintReadWrite, Category=<span class=\"string\">&quot;Input|IA&quot;</span>, meta=(AllowPrivateAccess=<span class=\"literal\">true</span>))</span><br><span class=\"line\">\tUInputAction* IA_Look;</span><br><span class=\"line\">\t<span class=\"built_in\">UPROPERTY</span>(EditAnywhere, BlueprintReadWrite, Category=<span class=\"string\">&quot;Input|IA&quot;</span>, meta=(AllowPrivateAccess=<span class=\"literal\">true</span>))</span><br><span class=\"line\">\tUInputAction* IA_Jump;</span><br></pre></td></tr></table></figure>\n\n<p><code>PlayerController.cpp</code></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&quot;EnhancedInputLibrary.h&quot;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">AMyPlayerControlller::BeginPlay</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\tSuper::<span class=\"built_in\">BeginPlay</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"type\">const</span> <span class=\"keyword\">auto</span> EInputSubSys = ULocalPlayer::<span class=\"built_in\">GetSubsystem</span>&lt;UEnhancedInputLocalPlayerSubsystem&gt;(<span class=\"built_in\">GetLocalPlayer</span>());</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (EInputSubSys)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tEInputSubSys-&gt;<span class=\"built_in\">AddMappingContext</span>(IMC_Movement, <span class=\"number\">0</span>);</span><br><span class=\"line\">\t\tEInputSubSys-&gt;<span class=\"built_in\">AddMappingContext</span>(IMC_Action, <span class=\"number\">0</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"5-Character\"><a href=\"#5-Character\" class=\"headerlink\" title=\"5. Character\"></a>5. Character</h3><p><code>Character.h</code></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">AMyPlayerControlller</span>;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">USpringArmComponent</span>;</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">UCameraComponent</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">\t<span class=\"built_in\">UPROPERTY</span>()</span><br><span class=\"line\">\tAMyPlayerControlller* PC;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"built_in\">UPROPERTY</span>(VisibleDefaultsOnly, BlueprintReadWrite, Category=<span class=\"string\">&quot;Player&quot;</span>, meta=(AllowPrivateAccess=<span class=\"literal\">true</span>))</span><br><span class=\"line\">\tUSpringArmComponent *PlayerSpringArmComponent;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"built_in\">UPROPERTY</span>(VisibleDefaultsOnly, BlueprintReadWrite, Category=<span class=\"string\">&quot;Player&quot;</span>, meta=(AllowPrivateAccess=<span class=\"literal\">true</span>))</span><br><span class=\"line\">\tUCameraComponent *PlayerCameraComponent;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"built_in\">UFUNCTION</span>()</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">Move</span><span class=\"params\">(<span class=\"type\">const</span> FInputActionValue&amp; InputValue)</span></span>;</span><br><span class=\"line\">\t<span class=\"built_in\">UFUNCTION</span>()</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">Look</span><span class=\"params\">(<span class=\"type\">const</span> FInputActionValue&amp; InputValue)</span></span>;</span><br></pre></td></tr></table></figure>\n\n<p><code>Character.cpp</code></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&quot;EnhancedInputComponent.h&quot;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\">AMyCharacter::<span class=\"built_in\">AMyCharacter</span>()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\tPrimaryActorTick.bCanEverTick = <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"built_in\">GetCapsuleComponent</span>()-&gt;<span class=\"built_in\">InitCapsuleSize</span>(<span class=\"number\">36.f</span>, <span class=\"number\">92.f</span>);</span><br><span class=\"line\">\t</span><br><span class=\"line\">\tPlayerSpringArmComponent = <span class=\"built_in\">CreateDefaultSubobject</span>&lt;USpringArmComponent&gt;(<span class=\"built_in\">TEXT</span>(<span class=\"string\">&quot;SpringArm&quot;</span>));</span><br><span class=\"line\">\tPlayerSpringArmComponent-&gt;<span class=\"built_in\">SetupAttachment</span>(RootComponent);</span><br><span class=\"line\">\tPlayerSpringArmComponent-&gt;bUsePawnControlRotation = <span class=\"literal\">true</span>;</span><br><span class=\"line\">\tPlayerSpringArmComponent-&gt;<span class=\"built_in\">SetRelativeLocation</span>(<span class=\"built_in\">FVector</span>(<span class=\"number\">0.f</span>, <span class=\"number\">0.f</span>, <span class=\"number\">90.f</span>));</span><br><span class=\"line\">\tPlayerSpringArmComponent-&gt;TargetArmLength = <span class=\"number\">300.f</span>;</span><br><span class=\"line\">\tPlayerSpringArmComponent-&gt;bEnableCameraLag = <span class=\"literal\">true</span>;</span><br><span class=\"line\">\tPlayerSpringArmComponent-&gt;bEnableCameraRotationLag = <span class=\"literal\">true</span>;</span><br><span class=\"line\">\tPlayerSpringArmComponent-&gt;CameraLagSpeed = <span class=\"number\">10.f</span>;</span><br><span class=\"line\">\tPlayerSpringArmComponent-&gt;CameraRotationLagSpeed = <span class=\"number\">10.f</span>;</span><br><span class=\"line\">\tPlayerSpringArmComponent-&gt;CameraLagMaxDistance = <span class=\"number\">100.f</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\tPlayerCameraComponent = <span class=\"built_in\">CreateDefaultSubobject</span>&lt;UCameraComponent&gt;(<span class=\"built_in\">TEXT</span>(<span class=\"string\">&quot;Camera&quot;</span>));</span><br><span class=\"line\">\tPlayerCameraComponent-&gt;<span class=\"built_in\">SetupAttachment</span>(PlayerSpringArmComponent, USpringArmComponent::SocketName);</span><br><span class=\"line\">\tPlayerCameraComponent-&gt;bUsePawnControlRotation = <span class=\"literal\">false</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"built_in\">GetCharacterMovement</span>()-&gt;bOrientRotationToMovement = <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">GetCharacterMovement</span>()-&gt;RotationRate = <span class=\"built_in\">FRotator</span>(<span class=\"number\">0.f</span>, <span class=\"number\">720.f</span>, <span class=\"number\">0.f</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">GetCharacterMovement</span>()-&gt;GravityScale = <span class=\"number\">1.5f</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">GetCharacterMovement</span>()-&gt;MaxAcceleration = <span class=\"number\">980.f</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">GetCharacterMovement</span>()-&gt;JumpZVelocity = <span class=\"number\">600.f</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">GetCharacterMovement</span>()-&gt;AirControl = <span class=\"number\">0.2f</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\tbUseControllerRotationPitch = <span class=\"literal\">false</span>;</span><br><span class=\"line\">\tbUseControllerRotationRoll = <span class=\"literal\">false</span>;</span><br><span class=\"line\">\tbUseControllerRotationYaw = <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">AMyCharacter::BeginPlay</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\tSuper::<span class=\"built_in\">BeginPlay</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">\tPC = <span class=\"built_in\">Cast</span>&lt;AMyPlayerControlller&gt;(<span class=\"built_in\">GetController</span>());</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">AMyCharacter::SetupPlayerInputComponent</span><span class=\"params\">(UInputComponent* PlayerInputComponent)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\tSuper::<span class=\"built_in\">SetupPlayerInputComponent</span>(PlayerInputComponent);</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"type\">const</span> <span class=\"keyword\">auto</span> EInputComp = <span class=\"built_in\">Cast</span>&lt;UEnhancedInputComponent&gt;(PlayerInputComponent);</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (!EInputComp) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\tPC = PC == <span class=\"literal\">nullptr</span> ? <span class=\"built_in\">Cast</span>&lt;AMyPlayerControlller&gt;(<span class=\"built_in\">GetController</span>()) : PC;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (PC)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (PC-&gt;IA_Move)</span><br><span class=\"line\">\t\t\tEInputComp-&gt;<span class=\"built_in\">BindAction</span>(PC-&gt;IA_Move, ETriggerEvent::Triggered, <span class=\"keyword\">this</span>, &amp;AMyCharacter::Move);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (PC-&gt;IA_Look)</span><br><span class=\"line\">\t\t\tEInputComp-&gt;<span class=\"built_in\">BindAction</span>(PC-&gt;IA_Look, ETriggerEvent::Triggered, <span class=\"keyword\">this</span>, &amp;AMyCharacter::Look);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (PC-&gt;IA_Jump)</span><br><span class=\"line\">\t\t\tEInputComp-&gt;<span class=\"built_in\">BindAction</span>(PC-&gt;IA_Jump, ETriggerEvent::Started, <span class=\"keyword\">this</span>, &amp;AMyCharacter::Jump);</span><br><span class=\"line\">\t\t\tEInputComp-&gt;<span class=\"built_in\">BindAction</span>(PC-&gt;IA_Jump, ETriggerEvent::Completed, <span class=\"keyword\">this</span>, &amp;ThisClass::StopJumping);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">AMyCharacter::Move</span><span class=\"params\">(<span class=\"type\">const</span> FInputActionValue&amp; InputValue)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\tPC = PC == <span class=\"literal\">nullptr</span> ? <span class=\"built_in\">Cast</span>&lt;AMyPlayerControlller&gt;(<span class=\"built_in\">GetController</span>()) : PC;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (!PC) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"type\">const</span> <span class=\"keyword\">auto</span> MovementVector = InputValue.<span class=\"built_in\">Get</span>&lt;FVector2D&gt;();</span><br><span class=\"line\">\t<span class=\"type\">const</span> <span class=\"keyword\">auto</span> Rotation = PC-&gt;<span class=\"built_in\">GetControlRotation</span>();</span><br><span class=\"line\">\t<span class=\"type\">const</span> FRotator YawRotation&#123;<span class=\"number\">0</span>, Rotation.Yaw, <span class=\"number\">0</span>&#125;;</span><br><span class=\"line\">\t<span class=\"type\">const</span> <span class=\"keyword\">auto</span> ForwardDirection = <span class=\"built_in\">FRotationMatrix</span>(YawRotation).<span class=\"built_in\">GetUnitAxis</span>(EAxis::X);</span><br><span class=\"line\">\t<span class=\"type\">const</span> <span class=\"keyword\">auto</span> RightDirection = <span class=\"built_in\">FRotationMatrix</span>(YawRotation).<span class=\"built_in\">GetUnitAxis</span>(EAxis::Y);</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"built_in\">AddMovementInput</span>(ForwardDirection, MovementVector.Y);</span><br><span class=\"line\">\t<span class=\"built_in\">AddMovementInput</span>(RightDirection, MovementVector.X);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">AMyCharacter::Look</span><span class=\"params\">(<span class=\"type\">const</span> FInputActionValue&amp; InputValue)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\tPC = PC == <span class=\"literal\">nullptr</span> ? <span class=\"built_in\">Cast</span>&lt;AMyPlayerControlller&gt;(<span class=\"built_in\">GetController</span>()) : PC;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (!PC) <span class=\"keyword\">return</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"type\">const</span> <span class=\"keyword\">auto</span> LookAxisVector = InputValue.<span class=\"built_in\">Get</span>&lt;FVector2D&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"built_in\">AddControllerYawInput</span>(LookAxisVector.X);</span><br><span class=\"line\">\t<span class=\"built_in\">AddControllerPitchInput</span>(LookAxisVector.Y);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n","text":"EnhancedInput使用增强输入完成Character的输入 [toc] 1. 创建InputAction创建IA_Jump： 默认值类型：数字（布尔） ...","permalink":"/post/7_12_UE5增强输入","photos":[],"count_time":{"symbolsCount":"5.9k","symbolsTime":"5 mins."},"categories":[{"name":"UnrealEngine","slug":"UnrealEngine","count":23,"path":"api/categories/UnrealEngine.json"}],"tags":[{"name":"UnrealEngine","slug":"UnrealEngine","count":23,"path":"api/tags/UnrealEngine.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#EnhancedInput\"><span class=\"toc-text\">EnhancedInput</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-%E5%88%9B%E5%BB%BAInputAction\"><span class=\"toc-text\">1. 创建InputAction</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-%E5%88%9B%E5%BB%BAInputMappingContext\"><span class=\"toc-text\">2. 创建InputMappingContext</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-Build-cs\"><span class=\"toc-text\">3. Build.cs</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-PlayerController\"><span class=\"toc-text\">4. PlayerController</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#5-Character\"><span class=\"toc-text\">5. Character</span></a></li></ol></li></ol></li></ol>","author":{"name":"FangH","slug":"blog-author","avatar":"/img/fh.png","link":"/","description":"我曾惊鸿一瞥未来","socials":{"github":"https://github.com/FHangH","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"https://www.zhihu.com/people/zi-heng-18-99-47","csdn":"https://blog.csdn.net/weixin_44519692?spm=1000.2115.3001.5343","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"UE5 PCG","uid":"590f53223cc4744b794510d1af5af7fa","slug":"7_13_UE5_PCG","date":"2024-02-22T08:26:40.575Z","updated":"2024-02-22T08:29:33.556Z","comments":true,"path":"api/articles/7_13_UE5_PCG.json","keywords":null,"cover":"https://cdn.jsdelivr.net/gh/FHangH/FHangBlogCDN_03@master/Aurora_ (35).webp","text":"PCG[toc] 1. 基础地形采样形式 基础地形采样形式 功能效果描述 Surface Sampler 方形内创建生成植物密度,可设置铺满全场景配置不高的别试...","permalink":"/post/7_13_UE5_PCG","photos":[],"count_time":{"symbolsCount":"6.2k","symbolsTime":"6 mins."},"categories":[{"name":"UnrealEngine","slug":"UnrealEngine","count":23,"path":"api/categories/UnrealEngine.json"}],"tags":[{"name":"UnrealEngine","slug":"UnrealEngine","count":23,"path":"api/tags/UnrealEngine.json"}],"author":{"name":"FangH","slug":"blog-author","avatar":"/img/fh.png","link":"/","description":"我曾惊鸿一瞥未来","socials":{"github":"https://github.com/FHangH","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"https://www.zhihu.com/people/zi-heng-18-99-47","csdn":"https://blog.csdn.net/weixin_44519692?spm=1000.2115.3001.5343","juejin":"","customs":{}}}},"next_post":{"title":"C++面试总结","uid":"93ae189cc435dab0c29dab59ae5e0773","slug":"1_09_C++面试总结","date":"2023-03-21T11:39:12.197Z","updated":"2024-02-22T08:25:08.341Z","comments":true,"path":"api/articles/1_09_C++面试总结.json","keywords":null,"cover":"https://cdn.jsdelivr.net/gh/FHangH/FHangBlogCDN_03@master/Aurora_ (33).webp","text":"C++面试1. 线程和进程的区别 线程和进程是操作系统中的两个基本概念。 线程是进程的一部分，它是操作系统调度的基本单位，而进程是一个具有一定独立功能的程序关于...","permalink":"/post/1_09_C++面试总结","photos":[],"count_time":{"symbolsCount":"18k","symbolsTime":"17 mins."},"categories":[{"name":"C++","slug":"C","count":1,"path":"api/categories/C.json"}],"tags":[{"name":"C++","slug":"C","count":1,"path":"api/tags/C.json"}],"author":{"name":"FangH","slug":"blog-author","avatar":"/img/fh.png","link":"/","description":"我曾惊鸿一瞥未来","socials":{"github":"https://github.com/FHangH","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"https://www.zhihu.com/people/zi-heng-18-99-47","csdn":"https://blog.csdn.net/weixin_44519692?spm=1000.2115.3001.5343","juejin":"","customs":{}}}}}