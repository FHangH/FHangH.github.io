{"title":"UE5读写本地文件插件","uid":"3b49e1f8d2f5273a7fca0d8ae0702bad","slug":"7_16_UE5读写本地文件插件","date":"2024-02-29T06:19:33.378Z","updated":"2024-02-29T06:17:59.676Z","comments":true,"path":"api/articles/7_16_UE5读写本地文件插件.json","keywords":null,"cover":"https://cdn.jsdelivr.net/gh/FHangH/FHangBlogCDN_03@master/Aurora_ (38).webp","content":"<h1 id=\"UE5读写本地文件插件\"><a href=\"#UE5读写本地文件插件\" class=\"headerlink\" title=\"UE5读写本地文件插件\"></a>UE5读写本地文件插件</h1><p>[toc]</p>\n<h3 id=\"0-github\"><a href=\"#0-github\" class=\"headerlink\" title=\"0. github\"></a>0. github</h3><p><a href=\"https://github.com/FHangH/FH_Unreal_ReadWriteLocalFile\">UE5读写本地文件插件</a></p>\n<h3 id=\"1-API\"><a href=\"#1-API\" class=\"headerlink\" title=\"1. API\"></a>1. API</h3><p><code>ReadWriteLocalFile.h</code></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">pragma</span> once</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&quot;CoreMinimal.h&quot;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&quot;Kismet/BlueprintFunctionLibrary.h&quot;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&quot;ReadWriteLocalFile.generated.h&quot;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">UENUM</span>(BlueprintType)</span><br><span class=\"line\"><span class=\"keyword\">enum class</span> <span class=\"title class_\">EPathDir</span> : uint8</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"function\">EPD_RootDir <span class=\"title\">UMETA</span><span class=\"params\">(Displayname=<span class=\"string\">&quot;RootDir&quot;</span>)</span>,</span></span><br><span class=\"line\"><span class=\"function\">\tEPD_ProjectDir <span class=\"title\">UMETA</span><span class=\"params\">(Displayname=<span class=\"string\">&quot;ProjectDir&quot;</span>)</span>,</span></span><br><span class=\"line\"><span class=\"function\">\tEPD_ProjectConfigDir <span class=\"title\">UMETA</span><span class=\"params\">(Displayname=<span class=\"string\">&quot;ProjectConfigDir&quot;</span>)</span>,</span></span><br><span class=\"line\"><span class=\"function\">\tEPD_ProjectContentDir <span class=\"title\">UMETA</span><span class=\"params\">(Displayname=<span class=\"string\">&quot;ProjectContentDir&quot;</span>)</span>,</span></span><br><span class=\"line\"><span class=\"function\">\tEPD_ProjectLogDir <span class=\"title\">UMETA</span><span class=\"params\">(Displayname=<span class=\"string\">&quot;ProjectLogDir&quot;</span>)</span>,</span></span><br><span class=\"line\"><span class=\"function\">\tEPD_ProjectPluginsDir <span class=\"title\">UMETA</span><span class=\"params\">(Displayname=<span class=\"string\">&quot;ProjectPluginsDir&quot;</span>)</span>,</span></span><br><span class=\"line\"><span class=\"function\">\tEPD_ProjectSavedDir <span class=\"title\">UMETA</span><span class=\"params\">(Displayname=<span class=\"string\">&quot;ProjectSavedDir&quot;</span>)</span>,</span></span><br><span class=\"line\"><span class=\"function\">\tEPD_ProjectUserDir <span class=\"title\">UMETA</span><span class=\"params\">(Displayname=<span class=\"string\">&quot;ProjectUserDir&quot;</span>)</span>,</span></span><br><span class=\"line\"><span class=\"function\">\tEPD_EngineDir <span class=\"title\">UMETA</span><span class=\"params\">(Displayname=<span class=\"string\">&quot;EngineDir&quot;</span>)</span>,</span></span><br><span class=\"line\"><span class=\"function\">\tEPD_EngineConfigDir <span class=\"title\">UMETA</span><span class=\"params\">(Displayname=<span class=\"string\">&quot;EngineConfigDir&quot;</span>)</span>,</span></span><br><span class=\"line\"><span class=\"function\">\tEPD_EngineContentDir <span class=\"title\">UMETA</span><span class=\"params\">(Displayname=<span class=\"string\">&quot;EngineContentDir&quot;</span>)</span>,</span></span><br><span class=\"line\"><span class=\"function\">\tEPD_EnginePluginsDir <span class=\"title\">UMETA</span><span class=\"params\">(Displayname=<span class=\"string\">&quot;EnginePluginsDir&quot;</span>)</span>,</span></span><br><span class=\"line\"><span class=\"function\">\tEPD_EngineSavedDir <span class=\"title\">UMETA</span><span class=\"params\">(Displayname=<span class=\"string\">&quot;EngineSavedDir&quot;</span>)</span>,</span></span><br><span class=\"line\"><span class=\"function\">\tEPD_EngineSourceDir <span class=\"title\">UMETA</span><span class=\"params\">(Displayname=<span class=\"string\">&quot;EngineSourceDir&quot;</span>)</span>,</span></span><br><span class=\"line\"><span class=\"function\">\tEPD_LaunchDir <span class=\"title\">UMETA</span><span class=\"params\">(Displayname=<span class=\"string\">&quot;LaunchDir&quot;</span>)</span>,</span></span><br><span class=\"line\"><span class=\"function\">\tEPD_GameSourceDir <span class=\"title\">UMETA</span><span class=\"params\">(Displayname=<span class=\"string\">&quot;GameSourceDir&quot;</span>)</span></span></span><br><span class=\"line\"><span class=\"function\">&#125;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">UCLASS</span>(BlueprintType)</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">FH_READWRITELOCALFILE_API</span> UReadWriteLocalFile : <span class=\"keyword\">public</span> UBlueprintFunctionLibrary</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">GENERATED_BODY</span>()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* My Code */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span>:\t</span><br><span class=\"line\">\t<span class=\"comment\">// Enum Convert String</span></span><br><span class=\"line\">\t<span class=\"built_in\">UFUNCTION</span>(BlueprintPure, Category=<span class=\"string\">&quot;FH|ReadWriteLocalFile&quot;</span>)</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">static</span> FString <span class=\"title\">ConvPathToString</span><span class=\"params\">(<span class=\"type\">const</span> EPathDir EPD)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// TArray&lt;FString&gt; Convert To FString</span></span><br><span class=\"line\">\t<span class=\"built_in\">UFUNCTION</span>(BlueprintPure, Category=<span class=\"string\">&quot;FH|ReadWriteLocalFile&quot;</span>)</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">static</span> FString <span class=\"title\">ConvertArrayToString</span><span class=\"params\">(<span class=\"type\">const</span> TArray&lt;FString&gt;&amp; TextResults)</span></span>;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// Check Local File Exists</span></span><br><span class=\"line\">\t<span class=\"built_in\">UFUNCTION</span>(BlueprintPure, Category=<span class=\"string\">&quot;FH|ReadWriteLocalFile&quot;</span>)</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">static</span> <span class=\"type\">bool</span> <span class=\"title\">IsLocalFileExistsByStr</span><span class=\"params\">(<span class=\"type\">const</span> FString&amp; FilePath)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"built_in\">UFUNCTION</span>(BlueprintPure, Category=<span class=\"string\">&quot;FH|ReadWriteLocalFile&quot;</span>)</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">static</span> <span class=\"type\">bool</span> <span class=\"title\">IsLocalFileExistsByEnum</span><span class=\"params\">(<span class=\"type\">const</span> EPathDir EPD)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// Create Local File Path And File</span></span><br><span class=\"line\">\t<span class=\"built_in\">UFUNCTION</span>(BlueprintCallable, Category=<span class=\"string\">&quot;FH|ReadWriteLocalFile&quot;</span>)</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">static</span> <span class=\"type\">bool</span> <span class=\"title\">CreatePathAndFileByStr</span><span class=\"params\">(<span class=\"type\">const</span> FString&amp; FilePath, <span class=\"type\">const</span> FString&amp; FileName, FString&amp; Path)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"built_in\">UFUNCTION</span>(BlueprintCallable, Category=<span class=\"string\">&quot;FH|ReadWriteLocalFile&quot;</span>)</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">static</span> <span class=\"type\">bool</span> <span class=\"title\">CreatePathAndFileByEnum</span><span class=\"params\">(<span class=\"type\">const</span> EPathDir EPD, <span class=\"type\">const</span> FString&amp; FileName, FString&amp; Path)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// Read Local File</span></span><br><span class=\"line\">\t<span class=\"built_in\">UFUNCTION</span>(BlueprintCallable, Category=<span class=\"string\">&quot;FH|ReadWriteLocalFile&quot;</span>)</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">static</span> TArray&lt;FString&gt; <span class=\"title\">ReadLocalFileByStr</span><span class=\"params\">(<span class=\"type\">const</span> FString&amp; FilePath, <span class=\"type\">const</span> FString&amp; FileName)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"built_in\">UFUNCTION</span>(BlueprintCallable, Category=<span class=\"string\">&quot;FH|ReadWriteLocalFile&quot;</span>)</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">static</span> TArray&lt;FString&gt; <span class=\"title\">ReadLocalFileByEnum</span><span class=\"params\">(<span class=\"type\">const</span> EPathDir EPD, <span class=\"type\">const</span> FString&amp; FileName)</span></span>;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// Write Local File</span></span><br><span class=\"line\">\t<span class=\"built_in\">UFUNCTION</span>(BlueprintCallable, Category=<span class=\"string\">&quot;FH|ReadWriteLocalFile&quot;</span>)</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">static</span> <span class=\"type\">bool</span> <span class=\"title\">WriteLocalFileByStr</span><span class=\"params\">(<span class=\"type\">const</span> FString&amp; FilePath, <span class=\"type\">const</span> FString&amp; FileName, <span class=\"type\">const</span> FString&amp; Content)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"built_in\">UFUNCTION</span>(BlueprintCallable, Category=<span class=\"string\">&quot;FH|ReadWriteLocalFile&quot;</span>)</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"type\">static</span> <span class=\"type\">bool</span> <span class=\"title\">WriteLocalFileByEnum</span><span class=\"params\">(<span class=\"type\">const</span> EPathDir EPD, <span class=\"type\">const</span> FString&amp; FileName, <span class=\"type\">const</span> FString&amp; Content)</span></span>;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n\n\n<p><code>ReadWriteLocalFile.cpp</code></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&quot;ReadWriteLocalFile.h&quot;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Enum Convert String</span></span><br><span class=\"line\"><span class=\"function\">FString <span class=\"title\">UReadWriteLocalFile::ConvPathToString</span><span class=\"params\">(<span class=\"type\">const</span> EPathDir EPD)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (EPD == EPathDir::EPD_RootDir) <span class=\"keyword\">return</span> FPaths::<span class=\"built_in\">RootDir</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (EPD == EPathDir::EPD_ProjectDir) <span class=\"keyword\">return</span> FPaths::<span class=\"built_in\">ProjectDir</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (EPD == EPathDir::EPD_ProjectConfigDir) <span class=\"keyword\">return</span> FPaths::<span class=\"built_in\">ProjectConfigDir</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (EPD == EPathDir::EPD_ProjectContentDir) <span class=\"keyword\">return</span> FPaths::<span class=\"built_in\">ProjectContentDir</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (EPD == EPathDir::EPD_ProjectLogDir) <span class=\"keyword\">return</span> FPaths::<span class=\"built_in\">ProjectLogDir</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (EPD == EPathDir::EPD_ProjectPluginsDir) <span class=\"keyword\">return</span> FPaths::<span class=\"built_in\">ProjectPluginsDir</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (EPD == EPathDir::EPD_ProjectSavedDir) <span class=\"keyword\">return</span> FPaths::<span class=\"built_in\">ProjectSavedDir</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (EPD == EPathDir::EPD_ProjectUserDir) <span class=\"keyword\">return</span> FPaths::<span class=\"built_in\">ProjectUserDir</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (EPD == EPathDir::EPD_EngineDir) <span class=\"keyword\">return</span> FPaths::<span class=\"built_in\">EngineDir</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (EPD == EPathDir::EPD_EngineConfigDir) <span class=\"keyword\">return</span> FPaths::<span class=\"built_in\">EngineConfigDir</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (EPD == EPathDir::EPD_EngineContentDir) <span class=\"keyword\">return</span> FPaths::<span class=\"built_in\">EngineContentDir</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (EPD == EPathDir::EPD_EnginePluginsDir) <span class=\"keyword\">return</span> FPaths::<span class=\"built_in\">EnginePluginsDir</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (EPD == EPathDir::EPD_EngineSavedDir) <span class=\"keyword\">return</span> FPaths::<span class=\"built_in\">EngineSavedDir</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (EPD == EPathDir::EPD_EngineSourceDir) <span class=\"keyword\">return</span> FPaths::<span class=\"built_in\">EngineSourceDir</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (EPD == EPathDir::EPD_LaunchDir) <span class=\"keyword\">return</span> FPaths::<span class=\"built_in\">LaunchDir</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (EPD == EPathDir::EPD_GameSourceDir) <span class=\"keyword\">return</span> FPaths::<span class=\"built_in\">GameSourceDir</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> &#123;&#125;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// TArray&lt;FString&gt; Convert To FString</span></span><br><span class=\"line\"><span class=\"function\">FString <span class=\"title\">UReadWriteLocalFile::ConvertArrayToString</span><span class=\"params\">(<span class=\"type\">const</span> TArray&lt;FString&gt;&amp; TextResults)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\tFString TextContent;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (<span class=\"type\">const</span> <span class=\"keyword\">auto</span>&amp; result : TextResults)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tTextContent += FString::<span class=\"built_in\">Printf</span>(<span class=\"built_in\">TEXT</span>(<span class=\"string\">&quot;%s\\n&quot;</span>), *result);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> TextContent;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Check Local File Exists</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">UReadWriteLocalFile::IsLocalFileExistsByStr</span><span class=\"params\">(<span class=\"type\">const</span> FString&amp; FilePath)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> FPlatformFileManager::<span class=\"built_in\">Get</span>().<span class=\"built_in\">GetPlatformFile</span>().<span class=\"built_in\">FileExists</span>(*FPaths::<span class=\"built_in\">ConvertRelativePathToFull</span>(FilePath));</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">UReadWriteLocalFile::IsLocalFileExistsByEnum</span><span class=\"params\">(<span class=\"type\">const</span> EPathDir EPD)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> FPlatformFileManager::<span class=\"built_in\">Get</span>().<span class=\"built_in\">GetPlatformFile</span>().<span class=\"built_in\">FileExists</span>(*<span class=\"built_in\">ConvPathToString</span>(EPD));</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Create Local File Path And File</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">UReadWriteLocalFile::CreatePathAndFileByStr</span><span class=\"params\">(<span class=\"type\">const</span> FString&amp; FilePath, <span class=\"type\">const</span> FString&amp; FileName, FString&amp; Path)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">const</span> FString tempName = FileName == <span class=\"string\">&quot;&quot;</span> ? <span class=\"string\">&quot;&quot;</span> : FString::<span class=\"built_in\">Printf</span>(<span class=\"built_in\">TEXT</span>(<span class=\"string\">&quot;/%s&quot;</span>), *FileName);</span><br><span class=\"line\">\tPath = FString::<span class=\"built_in\">Printf</span>(<span class=\"built_in\">TEXT</span>(<span class=\"string\">&quot;%s%s&quot;</span>), *FilePath, *tempName);</span><br><span class=\"line\">\tFPaths::<span class=\"built_in\">MakeValidFileName</span>(*Path);</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (<span class=\"built_in\">IsLocalFileExistsByStr</span>(Path))</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> FFileHelper::<span class=\"built_in\">SaveStringToFile</span>(<span class=\"built_in\">TEXT</span>(<span class=\"string\">&quot;&quot;</span>), *Path, FFileHelper::EEncodingOptions::ForceUTF8);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">UReadWriteLocalFile::CreatePathAndFileByEnum</span><span class=\"params\">(<span class=\"type\">const</span> EPathDir EPD, <span class=\"type\">const</span> FString&amp; FileName, FString&amp; Path)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\tPath = FString::<span class=\"built_in\">Printf</span>(<span class=\"built_in\">TEXT</span>(<span class=\"string\">&quot;%s%s&quot;</span>), *<span class=\"built_in\">ConvPathToString</span>(EPD), *FileName);</span><br><span class=\"line\">\tFPaths::<span class=\"built_in\">MakeValidFileName</span>(*Path);</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (<span class=\"built_in\">IsLocalFileExistsByStr</span>(Path))</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> FFileHelper::<span class=\"built_in\">SaveStringToFile</span>(<span class=\"built_in\">TEXT</span>(<span class=\"string\">&quot;&quot;</span>), *Path, FFileHelper::EEncodingOptions::ForceUTF8);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Read Local File</span></span><br><span class=\"line\"><span class=\"function\">TArray&lt;FString&gt; <span class=\"title\">UReadWriteLocalFile::ReadLocalFileByStr</span><span class=\"params\">(<span class=\"type\">const</span> FString&amp; FilePath, <span class=\"type\">const</span> FString&amp; FileName)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">const</span> FString tempName = FileName == <span class=\"string\">&quot;&quot;</span> ? <span class=\"string\">&quot;&quot;</span> : FString::<span class=\"built_in\">Printf</span>(<span class=\"built_in\">TEXT</span>(<span class=\"string\">&quot;/%s&quot;</span>), *FileName);</span><br><span class=\"line\">\t<span class=\"type\">const</span> <span class=\"keyword\">auto</span> Path = FString::<span class=\"built_in\">Printf</span>(<span class=\"built_in\">TEXT</span>(<span class=\"string\">&quot;%s%s&quot;</span>), *FilePath, *tempName);</span><br><span class=\"line\">\tFPaths::<span class=\"built_in\">MakeValidFileName</span>(*Path);</span><br><span class=\"line\">\tTArray&lt;FString&gt; TextResults;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (<span class=\"built_in\">IsLocalFileExistsByStr</span>(Path))</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (FFileHelper::<span class=\"built_in\">LoadFileToStringArray</span>(TextResults, *Path)) <span class=\"keyword\">return</span> TextResults;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> &#123;&#125;;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> &#123;&#125;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\">TArray&lt;FString&gt; <span class=\"title\">UReadWriteLocalFile::ReadLocalFileByEnum</span><span class=\"params\">(<span class=\"type\">const</span> EPathDir EPD, <span class=\"type\">const</span> FString&amp; FileName)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">const</span> <span class=\"keyword\">auto</span> Path = FString::<span class=\"built_in\">Printf</span>(<span class=\"built_in\">TEXT</span>(<span class=\"string\">&quot;%s%s&quot;</span>), *<span class=\"built_in\">ConvPathToString</span>(EPD), *FileName);</span><br><span class=\"line\">\tFPaths::<span class=\"built_in\">MakeValidFileName</span>(*Path);</span><br><span class=\"line\">\tTArray&lt;FString&gt; TextResults;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (<span class=\"built_in\">IsLocalFileExistsByStr</span>(Path))</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (FFileHelper::<span class=\"built_in\">LoadFileToStringArray</span>(TextResults, *Path)) <span class=\"keyword\">return</span> TextResults;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> &#123;&#125;;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> &#123;&#125;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Write Local File</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">UReadWriteLocalFile::WriteLocalFileByStr</span><span class=\"params\">(<span class=\"type\">const</span> FString&amp; FilePath, <span class=\"type\">const</span> FString&amp; FileName, <span class=\"type\">const</span> FString&amp; Content)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">const</span> FString tempName = FileName == <span class=\"string\">&quot;&quot;</span> ? <span class=\"string\">&quot;&quot;</span> : FString::<span class=\"built_in\">Printf</span>(<span class=\"built_in\">TEXT</span>(<span class=\"string\">&quot;/%s&quot;</span>), *FileName);</span><br><span class=\"line\">\t<span class=\"type\">const</span> <span class=\"keyword\">auto</span> Path = FString::<span class=\"built_in\">Printf</span>(<span class=\"built_in\">TEXT</span>(<span class=\"string\">&quot;%s%s&quot;</span>), *FilePath, *tempName);</span><br><span class=\"line\">\tFPaths::<span class=\"built_in\">MakeValidFileName</span>(*Path);</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (<span class=\"built_in\">IsLocalFileExistsByStr</span>(Path))</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> FFileHelper::<span class=\"built_in\">SaveStringToFile</span>(Content, *Path, FFileHelper::EEncodingOptions::ForceUTF8);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">UReadWriteLocalFile::WriteLocalFileByEnum</span><span class=\"params\">(<span class=\"type\">const</span> EPathDir EPD, <span class=\"type\">const</span> FString&amp; FileName, <span class=\"type\">const</span> FString&amp; Content)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">const</span> <span class=\"keyword\">auto</span> Path = FString::<span class=\"built_in\">Printf</span>(<span class=\"built_in\">TEXT</span>(<span class=\"string\">&quot;%s%s&quot;</span>), *<span class=\"built_in\">ConvPathToString</span>(EPD), *FileName);</span><br><span class=\"line\">\tFPaths::<span class=\"built_in\">MakeValidFileName</span>(*Path);</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (<span class=\"built_in\">IsLocalFileExistsByStr</span>(Path))</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> FFileHelper::<span class=\"built_in\">SaveStringToFile</span>(Content, *Path, FFileHelper::EEncodingOptions::ForceUTF8);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n","text":"UE5读写本地文件插件[toc] 0. githubUE5读写本地文件插件 1. APIReadWriteLocalFile.h 123456789101112...","permalink":"/post/7_16_UE5读写本地文件插件","photos":[],"count_time":{"symbolsCount":"8.7k","symbolsTime":"8 mins."},"categories":[{"name":"UnrealEngine","slug":"UnrealEngine","count":22,"path":"api/categories/UnrealEngine.json"},{"name":"Plugin","slug":"UnrealEngine/Plugin","count":7,"path":"api/categories/UnrealEngine/Plugin.json"}],"tags":[{"name":"UnrealEngine","slug":"UnrealEngine","count":22,"path":"api/tags/UnrealEngine.json"},{"name":"Plugin","slug":"Plugin","count":9,"path":"api/tags/Plugin.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#UE5%E8%AF%BB%E5%86%99%E6%9C%AC%E5%9C%B0%E6%96%87%E4%BB%B6%E6%8F%92%E4%BB%B6\"><span class=\"toc-text\">UE5读写本地文件插件</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#0-github\"><span class=\"toc-text\">0. github</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-API\"><span class=\"toc-text\">1. API</span></a></li></ol></li></ol></li></ol>","author":{"name":"FangH","slug":"blog-author","avatar":"/img/fh.png","link":"/","description":"我曾惊鸿一瞥未来","socials":{"github":"https://github.com/FHangH","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"https://www.zhihu.com/people/zi-heng-18-99-47","csdn":"https://blog.csdn.net/weixin_44519692?spm=1000.2115.3001.5343","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"UE5配置文件读写插件","uid":"e6dd7df07e1b0feb88d026fb6a53d946","slug":"7_17_UE5配置文件读写插件","date":"2024-02-29T06:19:33.426Z","updated":"2024-02-29T06:18:09.443Z","comments":true,"path":"api/articles/7_17_UE5配置文件读写插件.json","keywords":null,"cover":"https://cdn.jsdelivr.net/gh/FHangH/FHangBlogCDN_03@master/Aurora_ (39).webp","text":"UE5配置文件读写插件[toc] 0. githubUE5配置文件读写插件 1. APIFH_FuncLib_INI.h 1234567891011121314...","permalink":"/post/7_17_UE5配置文件读写插件","photos":[],"count_time":{"symbolsCount":"8.5k","symbolsTime":"8 mins."},"categories":[{"name":"UnrealEngine","slug":"UnrealEngine","count":22,"path":"api/categories/UnrealEngine.json"},{"name":"Plugin","slug":"UnrealEngine/Plugin","count":7,"path":"api/categories/UnrealEngine/Plugin.json"}],"tags":[{"name":"UnrealEngine","slug":"UnrealEngine","count":22,"path":"api/tags/UnrealEngine.json"},{"name":"Plugin","slug":"Plugin","count":9,"path":"api/tags/Plugin.json"}],"author":{"name":"FangH","slug":"blog-author","avatar":"/img/fh.png","link":"/","description":"我曾惊鸿一瞥未来","socials":{"github":"https://github.com/FHangH","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"https://www.zhihu.com/people/zi-heng-18-99-47","csdn":"https://blog.csdn.net/weixin_44519692?spm=1000.2115.3001.5343","juejin":"","customs":{}}}},"next_post":{"title":"UE5成就系统插件","uid":"804797239f29f1915c4aabe46254e30a","slug":"7_15_UE5成就系统插件","date":"2024-02-29T06:19:33.375Z","updated":"2024-02-29T06:17:43.260Z","comments":true,"path":"api/articles/7_15_UE5成就系统插件.json","keywords":null,"cover":"https://cdn.jsdelivr.net/gh/FHangH/FHangBlogCDN_03@master/Aurora_ (37).webp","text":"UE5成就系统插件[toc] 0. githubUE5成就系统插件 1. 成就数据结构设计1.1 成就等级12345678UENUM(BlueprintType...","permalink":"/post/7_15_UE5成就系统插件","photos":[],"count_time":{"symbolsCount":"7.7k","symbolsTime":"7 mins."},"categories":[{"name":"UnrealEngine","slug":"UnrealEngine","count":22,"path":"api/categories/UnrealEngine.json"},{"name":"Plugin","slug":"UnrealEngine/Plugin","count":7,"path":"api/categories/UnrealEngine/Plugin.json"}],"tags":[{"name":"UnrealEngine","slug":"UnrealEngine","count":22,"path":"api/tags/UnrealEngine.json"},{"name":"Plugin","slug":"Plugin","count":9,"path":"api/tags/Plugin.json"}],"author":{"name":"FangH","slug":"blog-author","avatar":"/img/fh.png","link":"/","description":"我曾惊鸿一瞥未来","socials":{"github":"https://github.com/FHangH","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"https://www.zhihu.com/people/zi-heng-18-99-47","csdn":"https://blog.csdn.net/weixin_44519692?spm=1000.2115.3001.5343","juejin":"","customs":{}}}}}