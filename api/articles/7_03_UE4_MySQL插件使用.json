{"title":"UE4 MySQL插件使用","uid":"392fe5e03b8c7afffa5955ae17305c17","slug":"7_03_UE4_MySQL插件使用","date":"2022-10-06T07:28:25.950Z","updated":"2024-02-22T10:47:17.446Z","comments":true,"path":"api/articles/7_03_UE4_MySQL插件使用.json","keywords":null,"cover":"https://cdn.jsdelivr.net/gh/FHangH/FHangBlogCDN_03@master/Aurora_ (19).webp","content":"<h1 id=\"UE4-MySQL插件使用\"><a href=\"#UE4-MySQL插件使用\" class=\"headerlink\" title=\"UE4 MySQL插件使用\"></a>UE4 MySQL插件使用</h1><p>[toc]</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>Update To 2.0</p>\n<p>修复了一些bool返回结果错误的bug</p>\n<p>优化了代码的可读性</p>\n<p>更新了新的2.0方法 《SelectOnTableToMap》 取代 1.0方法《SelectOnTableData》</p>\n<p>具体用法可以看项目源码里的注释xin’x</p></blockquote>\n<h3 id=\"1-插件获取\"><a href=\"#1-插件获取\" class=\"headerlink\" title=\"1. 插件获取\"></a>1. 插件获取</h3><p>（1.0 版本的）<br><a href=\"https://www.aliyundrive.com/s/UiPTz9mnNUV\">MySQL Plugin</a> 提取码:17um</p>\n<h3 id=\"2-插件安装\"><a href=\"#2-插件安装\" class=\"headerlink\" title=\"2. 插件安装\"></a>2. 插件安装</h3><ol>\n<li>新建<code>UE4</code>项目，类型随意</li>\n<li>在<code>项目根目录</code>中新建文件夹<code>Plugins</code></li>\n<li>将<code>FH_MySQL</code>复制到<code>Plugins</code>中</li>\n<li>重新打开<code>UE4项目</code></li>\n</ol>\n<h3 id=\"3-插件API\"><a href=\"#3-插件API\" class=\"headerlink\" title=\"3. 插件API\"></a>3. 插件API</h3><h4 id=\"3-1-连接数据库\"><a href=\"#3-1-连接数据库\" class=\"headerlink\" title=\"3.1 连接数据库\"></a>3.1 连接数据库</h4><ul>\n<li><p>返回一个<code>MySQL Connector</code></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\"> * Connection == MySQL Object</span></span><br><span class=\"line\"><span class=\"comment\"> * @return *UFH_ConnectionObject == MySQL Connector</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"built_in\">UFUNCTION</span>(BlueprintCallable, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">static</span> UFH_ConnectionObject *<span class=\"title\">ConnectToMySQL</span><span class=\"params\">(FString Host, FString UserName, FString PassWord, FString DBName,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">                                            int32 Port, FString &amp;ConnectMessage)</span></span>;</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h4 id=\"3-2-获得连接状态\"><a href=\"#3-2-获得连接状态\" class=\"headerlink\" title=\"3.2 获得连接状态\"></a>3.2 获得连接状态</h4><ul>\n<li><p>返回<code>bool</code>，正在连接返回<code>true</code></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\"> * ConnectionObject == MySQL Object</span></span><br><span class=\"line\"><span class=\"comment\"> * @return bool == ConnectionState</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"built_in\">UFUNCTION</span>(BlueprintCallable, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">static</span> <span class=\"type\">bool</span> <span class=\"title\">GetConnectionState</span><span class=\"params\">(UFH_ConnectionObject *ConnectionObject)</span></span>;</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h4 id=\"3-3-关闭数据库连接\"><a href=\"#3-3-关闭数据库连接\" class=\"headerlink\" title=\"3.3 关闭数据库连接\"></a>3.3 关闭数据库连接</h4><ul>\n<li><p>肯定会关掉，默认返回<code>true</code></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\"> * ConnectionObject == MySQL Object</span></span><br><span class=\"line\"><span class=\"comment\"> * @return bool == ConnectionState</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"built_in\">UFUNCTION</span>(BlueprintCallable, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">static</span> <span class=\"type\">bool</span> <span class=\"title\">CloseConnection</span><span class=\"params\">(UFH_ConnectionObject *ConnectionObject)</span></span>;</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h4 id=\"3-4-增-删-改处理\"><a href=\"#3-4-增-删-改处理\" class=\"headerlink\" title=\"3.4 增-删-改处理\"></a>3.4 增-删-改处理</h4><ul>\n<li><p>实现增删改的处理，具体执行程序依据传入<code>格式化SqlQuery</code></p>\n</li>\n<li><p><code>Insert</code>，<code>Delete</code>，<code>Update</code></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\"> * ConnectionObject == MySQL Object</span></span><br><span class=\"line\"><span class=\"comment\"> * @return bool == Insert, Update, Delete Data Is Succeed Or Failed</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"built_in\">UFUNCTION</span>(BlueprintCallable, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">static</span> <span class=\"type\">bool</span> <span class=\"title\">ActionOnTableData</span><span class=\"params\">(UFH_ConnectionObject *ConnectionObject, FString SqlQuery)</span></span>;</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h5 id=\"3-4-1-Insert-Format-SqlQuery\"><a href=\"#3-4-1-Insert-Format-SqlQuery\" class=\"headerlink\" title=\"3.4.1 Insert Format SqlQuery\"></a>3.4.1 Insert Format SqlQuery</h5><ul>\n<li><p>通用的 <code>INSERT INTO TableName VALUES(InsertValues);</code>格式化插入语句</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\"> * TableName = DataBase TableName</span></span><br><span class=\"line\"><span class=\"comment\"> * InsertValues = MySQL Insert Values to Table</span></span><br><span class=\"line\"><span class=\"comment\"> * @return FString = MySQL Insert Query -&gt; Insert</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"built_in\">UFUNCTION</span>(BlueprintPure, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">static</span> FString <span class=\"title\">InsertFormatSqlQuery</span><span class=\"params\">(FString TableName, FString InsertValues)</span></span>;</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h5 id=\"3-4-2-Update-Format-SqlQuery\"><a href=\"#3-4-2-Update-Format-SqlQuery\" class=\"headerlink\" title=\"3.4.2 Update Format SqlQuery\"></a>3.4.2 Update Format SqlQuery</h5><ul>\n<li><p>更新所有字段的值<code>UPDATE TableName SET RowName = UpdateValue;</code>格式化更新语句</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\"> * TableName = DataBase TableName</span></span><br><span class=\"line\"><span class=\"comment\"> * RowName = Need Update Row</span></span><br><span class=\"line\"><span class=\"comment\"> * @return FString = MySQL Update Query -&gt; Update</span></span><br><span class=\"line\"><span class=\"comment\">*/</span>\t</span><br><span class=\"line\"><span class=\"built_in\">UFUNCTION</span>(BlueprintPure, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">static</span> FString <span class=\"title\">UpdateAllFormatSqlQuery</span><span class=\"params\">(FString TableName, FString RowName, FString UpdateValue)</span></span>;</span><br></pre></td></tr></table></figure>\n\n\n</li>\n<li><p>依据条件更新字段值<code>UPDATE TableName SET UpdateRowName = UpdateValue WHERE WhereName = WhereValue;</code>格式化更新语句</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\"> * TableName = DataBase TableName</span></span><br><span class=\"line\"><span class=\"comment\"> * RowName = Need Update Row</span></span><br><span class=\"line\"><span class=\"comment\"> * WhereName = Update Where</span></span><br><span class=\"line\"><span class=\"comment\"> * WhereSymbol = Operator Or Symbol</span></span><br><span class=\"line\"><span class=\"comment\"> * WhereValue = Condition Name</span></span><br><span class=\"line\"><span class=\"comment\"> * UpdateValue = Need Update Date Value</span></span><br><span class=\"line\"><span class=\"comment\"> * @return FString = MySQL Update Query -&gt; Update</span></span><br><span class=\"line\"><span class=\"comment\">*/</span>\t</span><br><span class=\"line\"><span class=\"built_in\">UFUNCTION</span>(BlueprintPure, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">static</span> FString <span class=\"title\">UpdateByWhereFormatSqlQuery</span><span class=\"params\">(FString TableName, FString RowName, FString WhereName, </span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">                                           FString WhereSymbol, FString WhereValue, FString UpdateValue)</span></span>;</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h5 id=\"3-4-3-Delete-Format-SqlQuery\"><a href=\"#3-4-3-Delete-Format-SqlQuery\" class=\"headerlink\" title=\"3.4.3 Delete Format SqlQuery\"></a>3.4.3 Delete Format SqlQuery</h5><ul>\n<li><p>删除整个表<code>DELETE FROM TableName;</code>格式化删除语句</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\"> * TableName = DataBase TableName</span></span><br><span class=\"line\"><span class=\"comment\"> * @return FString = MySQL Delete Query -&gt; Delete</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"built_in\">UFUNCTION</span>(BlueprintPure, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">static</span> FString <span class=\"title\">DeleteAllFormatSqlQuery</span><span class=\"params\">(FString TableName)</span></span>;</span><br></pre></td></tr></table></figure>\n\n\n</li>\n<li><p>依据条件删除整行数据<code>DELETE FROM TableName WHERE WhereName=‘WhereValue’;</code>格式化删除语句</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\"> * TableName = DataBase TableName</span></span><br><span class=\"line\"><span class=\"comment\"> * WhereName = Update Where</span></span><br><span class=\"line\"><span class=\"comment\"> * WhereSymbol = Operator Or Symbol</span></span><br><span class=\"line\"><span class=\"comment\"> * WhereValue = Condition Name</span></span><br><span class=\"line\"><span class=\"comment\"> * @return FString = MySQL Delete Query -&gt; Delete</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"built_in\">UFUNCTION</span>(BlueprintPure, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">static</span> FString <span class=\"title\">DeleteByWhereFormatSqlQuery</span><span class=\"params\">(FString TableName, FString WhereName, FString WhereSymbol, </span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">                                           FString WhereValue)</span></span>;</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h4 id=\"3-5-查询语句处理\"><a href=\"#3-5-查询语句处理\" class=\"headerlink\" title=\"3.5 查询语句处理\"></a>3.5 查询语句处理</h4><ul>\n<li><p>实现基本常用的查询语句：</p>\n<ol>\n<li><code>SELECT * FROM TableName;</code></li>\n<li><code>SELECT Columns1, Columns2, Country FROM TableName;</code></li>\n<li><code>获得指定行的整行数据</code></li>\n</ol>\n</li>\n<li><p>处理查询语句的通用，具体执行程序依据传入<code>格式化SqlQuery</code></p>\n</li>\n<li><p>函数公开生成并返回<code>struct</code>类型：</p>\n<ul>\n<li><code>ResultRows</code>整个表的数据</li>\n<li><code>ResultRow</code>整行的数据</li>\n<li><code>RowValue</code>整行内字段名的数据</li>\n</ul>\n</li>\n</ul>\n<h5 id=\"3-5-1-Version1-0\"><a href=\"#3-5-1-Version1-0\" class=\"headerlink\" title=\"3.5.1 Version1.0\"></a>3.5.1 Version1.0</h5><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\"> * ConnectionObject == MySQL Object</span></span><br><span class=\"line\"><span class=\"comment\"> * @return bool == Select Data Is Succeed Or Failed</span></span><br><span class=\"line\"><span class=\"comment\">*/</span>\t</span><br><span class=\"line\"><span class=\"built_in\">UFUNCTION</span>(BlueprintCallable, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">static</span> <span class=\"type\">bool</span> <span class=\"title\">SelectOnTableData</span><span class=\"params\">(UFH_ConnectionObject *ConnectionObject, FString SqlQuery, FQueryResultRows &amp;ResultRows)</span></span>;</span><br></pre></td></tr></table></figure>\n\n\n\n<h5 id=\"3-5-2-Version2-0\"><a href=\"#3-5-2-Version2-0\" class=\"headerlink\" title=\"3.5.2 Version2.0\"></a>3.5.2 Version2.0</h5><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\"> * 2.0 Select All Results In TArray&lt;TMap&gt; ResArray</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"built_in\">UFUNCTION</span>(BlueprintCallable, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">static</span> <span class=\"type\">bool</span> <span class=\"title\">SelectOnTableToMap</span><span class=\"params\">(UFH_ConnectionObject* ConnectionObject, FString SqlQuery, FResArray&amp; ResArray)</span></span>;</span><br></pre></td></tr></table></figure>\n\n\n\n\n\n<h5 id=\"3-5-3-Select-All-Format-SqlQuery\"><a href=\"#3-5-3-Select-All-Format-SqlQuery\" class=\"headerlink\" title=\"3.5.3 Select All Format SqlQuery\"></a>3.5.3 Select All Format SqlQuery</h5><ul>\n<li><p>查询整个表的数据<code>SELECT * FROM TableName;</code>格式化查询语句</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\"> * TableName = DataBase TableName</span></span><br><span class=\"line\"><span class=\"comment\"> * @return FString = MySQL Select Query -&gt; Select</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"built_in\">UFUNCTION</span>(BlueprintPure, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">static</span> FString <span class=\"title\">SelectAllFormatSqlQuery</span><span class=\"params\">(FString TableName)</span></span>;</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h5 id=\"3-5-4-Select-Columns-By-Conditions\"><a href=\"#3-5-4-Select-Columns-By-Conditions\" class=\"headerlink\" title=\"3.5.4 Select Columns By Conditions\"></a>3.5.4 Select Columns By Conditions</h5><ul>\n<li><p>依据条件查询表内数据<code>SELECT Columns1, Columns2, Country FROM TableName;</code>格式化查询语句</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\"> * TableName = DataBase TableName</span></span><br><span class=\"line\"><span class=\"comment\"> * @return FString = MySQL Select Query -&gt; Select</span></span><br><span class=\"line\"><span class=\"comment\">*/</span>\t</span><br><span class=\"line\"><span class=\"built_in\">UFUNCTION</span>(BlueprintPure, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">static</span> FString <span class=\"title\">SelectByColumnsFormatSqlQuery</span><span class=\"params\">(FString TableName, FString Columns)</span></span>;</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h5 id=\"3-5-5-Select-Get-RowValues-By-Index\"><a href=\"#3-5-5-Select-Get-RowValues-By-Index\" class=\"headerlink\" title=\"3.5.5 Select Get RowValues By Index\"></a>3.5.5 Select Get RowValues By Index</h5><ul>\n<li><p>指定表面和表内的行号，查询数据</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\"> * TableName = DataBase TableName</span></span><br><span class=\"line\"><span class=\"comment\"> * @return TArray&lt;FString&gt; = Get All Rows -&gt; In All Columns Values</span></span><br><span class=\"line\"><span class=\"comment\">*/</span>\t\t</span><br><span class=\"line\"><span class=\"built_in\">UFUNCTION</span>(BlueprintPure, Category=<span class=\"string\">&quot;MySQL|Utils&quot;</span>)</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">static</span> FQueryResultRow <span class=\"title\">GetRowByIndex</span><span class=\"params\">(<span class=\"type\">const</span> FQueryResultRows &amp;ResultRows, int32 RowIndex)</span></span>;</span><br></pre></td></tr></table></figure></li>\n</ul>\n","text":"UE4 MySQL插件使用[toc] Update To 2.0 修复了一些bool返回结果错误的bug 优化了代码的可读性 更新了新的2.0方法 《Selec...","permalink":"/post/7_03_UE4_MySQL插件使用","photos":[],"count_time":{"symbolsCount":"5.3k","symbolsTime":"5 mins."},"categories":[{"name":"UnrealEngine","slug":"UnrealEngine","count":23,"path":"api/categories/UnrealEngine.json"},{"name":"MySQL","slug":"UnrealEngine/MySQL","count":2,"path":"api/categories/UnrealEngine/MySQL.json"},{"name":"Plugin","slug":"UnrealEngine/MySQL/Plugin","count":2,"path":"api/categories/UnrealEngine/MySQL/Plugin.json"}],"tags":[{"name":"UnrealEngine","slug":"UnrealEngine","count":23,"path":"api/tags/UnrealEngine.json"},{"name":"MySQL","slug":"MySQL","count":2,"path":"api/tags/MySQL.json"},{"name":"Plugin","slug":"Plugin","count":10,"path":"api/tags/Plugin.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#UE4-MySQL%E6%8F%92%E4%BB%B6%E4%BD%BF%E7%94%A8\"><span class=\"toc-text\">UE4 MySQL插件使用</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-%E6%8F%92%E4%BB%B6%E8%8E%B7%E5%8F%96\"><span class=\"toc-text\">1. 插件获取</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-%E6%8F%92%E4%BB%B6%E5%AE%89%E8%A3%85\"><span class=\"toc-text\">2. 插件安装</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-%E6%8F%92%E4%BB%B6API\"><span class=\"toc-text\">3. 插件API</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#3-1-%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93\"><span class=\"toc-text\">3.1 连接数据库</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#3-2-%E8%8E%B7%E5%BE%97%E8%BF%9E%E6%8E%A5%E7%8A%B6%E6%80%81\"><span class=\"toc-text\">3.2 获得连接状态</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#3-3-%E5%85%B3%E9%97%AD%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5\"><span class=\"toc-text\">3.3 关闭数据库连接</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#3-4-%E5%A2%9E-%E5%88%A0-%E6%94%B9%E5%A4%84%E7%90%86\"><span class=\"toc-text\">3.4 增-删-改处理</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#3-4-1-Insert-Format-SqlQuery\"><span class=\"toc-text\">3.4.1 Insert Format SqlQuery</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#3-4-2-Update-Format-SqlQuery\"><span class=\"toc-text\">3.4.2 Update Format SqlQuery</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#3-4-3-Delete-Format-SqlQuery\"><span class=\"toc-text\">3.4.3 Delete Format SqlQuery</span></a></li></ol></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#3-5-%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5%E5%A4%84%E7%90%86\"><span class=\"toc-text\">3.5 查询语句处理</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#3-5-1-Version1-0\"><span class=\"toc-text\">3.5.1 Version1.0</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#3-5-2-Version2-0\"><span class=\"toc-text\">3.5.2 Version2.0</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#3-5-3-Select-All-Format-SqlQuery\"><span class=\"toc-text\">3.5.3 Select All Format SqlQuery</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#3-5-4-Select-Columns-By-Conditions\"><span class=\"toc-text\">3.5.4 Select Columns By Conditions</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#3-5-5-Select-Get-RowValues-By-Index\"><span class=\"toc-text\">3.5.5 Select Get RowValues By Index</span></a></li></ol></li></ol></li></ol></li></ol></li></ol>","author":{"name":"FangH","slug":"blog-author","avatar":"/img/fh.png","link":"/","description":"我曾惊鸿一瞥未来","socials":{"github":"https://github.com/FHangH","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"https://www.zhihu.com/people/zi-heng-18-99-47","csdn":"https://blog.csdn.net/weixin_44519692?spm=1000.2115.3001.5343","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"UE4初始设置及个人使用崩溃记录","uid":"c7d8b276a0f55310d3a5259cec001a89","slug":"7_01_UE4初始设置及个人使用崩溃记录","date":"2022-10-06T07:28:25.955Z","updated":"2023-01-10T01:10:19.445Z","comments":true,"path":"api/articles/7_01_UE4初始设置及个人使用崩溃记录.json","keywords":null,"cover":"https://cdn.jsdelivr.net/gh/FHangH/FHangBlogCDN_03@master/Aurora_ (17).webp","text":"[toc] 日志：txt1.第一次记录：2020.2.05 版本：4.24.2UnrealEngine的初始设置1.在Epic中下载UnrealEngine4之...","permalink":"/post/7_01_UE4初始设置及个人使用崩溃记录","photos":[],"count_time":{"symbolsCount":"2.7k","symbolsTime":"2 mins."},"categories":[{"name":"UnrealEngine","slug":"UnrealEngine","count":23,"path":"api/categories/UnrealEngine.json"}],"tags":[{"name":"UnrealEngine","slug":"UnrealEngine","count":23,"path":"api/tags/UnrealEngine.json"}],"author":{"name":"FangH","slug":"blog-author","avatar":"/img/fh.png","link":"/","description":"我曾惊鸿一瞥未来","socials":{"github":"https://github.com/FHangH","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"https://www.zhihu.com/people/zi-heng-18-99-47","csdn":"https://blog.csdn.net/weixin_44519692?spm=1000.2115.3001.5343","juejin":"","customs":{}}}},"next_post":{"title":"UE4 MySQL插件开发","uid":"ab5a123ef13f06a2127802a636203336","slug":"7_02_UE4_MySQL插件开发","date":"2022-10-06T07:28:25.948Z","updated":"2024-02-22T10:47:07.447Z","comments":true,"path":"api/articles/7_02_UE4_MySQL插件开发.json","keywords":null,"cover":"https://cdn.jsdelivr.net/gh/FHangH/FHangBlogCDN_03@master/Aurora_ (18).webp","text":"UE4 MySQL插件开发[toc] 1. 项目简介 个人UrealEngine MySQL Plugin开发流程 方便UnrealEngine项目链接和操作M...","permalink":"/post/7_02_UE4_MySQL插件开发","photos":[],"count_time":{"symbolsCount":"27k","symbolsTime":"25 mins."},"categories":[{"name":"UnrealEngine","slug":"UnrealEngine","count":23,"path":"api/categories/UnrealEngine.json"},{"name":"MySQL","slug":"UnrealEngine/MySQL","count":2,"path":"api/categories/UnrealEngine/MySQL.json"},{"name":"Plugin","slug":"UnrealEngine/MySQL/Plugin","count":2,"path":"api/categories/UnrealEngine/MySQL/Plugin.json"}],"tags":[{"name":"UnrealEngine","slug":"UnrealEngine","count":23,"path":"api/tags/UnrealEngine.json"},{"name":"MySQL","slug":"MySQL","count":2,"path":"api/tags/MySQL.json"},{"name":"Plugin","slug":"Plugin","count":10,"path":"api/tags/Plugin.json"}],"author":{"name":"FangH","slug":"blog-author","avatar":"/img/fh.png","link":"/","description":"我曾惊鸿一瞥未来","socials":{"github":"https://github.com/FHangH","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"https://www.zhihu.com/people/zi-heng-18-99-47","csdn":"https://blog.csdn.net/weixin_44519692?spm=1000.2115.3001.5343","juejin":"","customs":{}}}}}